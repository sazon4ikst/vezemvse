function hasClass(a,b){return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))}var msBeautify=msBeautify||{};!function(b){function S(e,d){var l,H,t,k;d=b.extend(!0,{byJson:{data:null,selectedIndex:0,name:null,size:0,multiple:!1,width:250},mainCSS:"dd",height:120,visibleRows:7,rowHeight:0,showIcon:!0,zIndex:9999,useSprite:!1,animStyle:"slideDown",event:"click",openDirection:"auto",jsonTitle:!0,style:"",disabledOpacity:.7,disabledOptionEvents:!0,childWidth:0,enableCheckbox:!1,checkboxNameSuffix:"_mscheck",append:"",prepend:"",reverseMode:!0,roundedCorner:!0,enableAutoFilter:!1,on:{create:null,open:null,close:null,add:null,remove:null,change:null,blur:null,click:null,dblclick:null,mousemove:null,mouseover:null,mouseout:null,focus:null,mousedown:null,mouseup:null}},d);var q=this,S={postElementHolder:"_msddHolder",postID:"_msdd",postTitleID:"_title",postTitleTextID:"_titleText",postChildID:"_child"};H=d.mainCSS,t="enabled",k="selected",l="_msddli_";var u=!1,x=!1,n=!1,T={},J={},K=!1,C=!1,A=!1,L=null,I=!1,M,$=document,N=window.navigator.userAgent,pa=N.match(/msie/i);d.reverseMode=d.reverseMode.toString(),d.roundedCorner=d.roundedCorner.toString();var aa=function(a){return"[object Array]"==Object.prototype.toString.call(a)?!0:!1},h=function(a){return void 0===T[a]&&(T[a]=$.getElementById(a)),T[a]},z=function(a){var c=m("postChildID");return b("#"+c+" li."+l).index(a)},qa=function(){if(d.byJson.data){var a=["description","image","title"];try{e.id||(e.id="dropdown"+msBeautify.counter),d.byJson.data=eval(d.byJson.data);var c="msdropdown"+msBeautify.counter++,f={};f.id=c,f.name=d.byJson.name||e.id,0<d.byJson.size&&(f.size=d.byJson.size),f.multiple=d.byJson.multiple;for(var g=s("select",f),c=0;c<d.byJson.data.length;c++){var p=d.byJson.data[c],k=new Option(p.text,p.value),m;for(m in p)if("text"!=m.toLowerCase()){var l=-1!=b.inArray(m.toLowerCase(),a)?"data-":"";k.setAttribute(l+m,p[m])}g.options[c]=k}h(e.id).appendChild(g),g.selectedIndex=d.byJson.selectedIndex,b(g).css({width:d.byJson.width+"px"}),e=g}catch(r){throw"There is an error in json data."}}},m=function(a){return e+S[a]},ba=function(a){return void 0===a.style?"":a.style.cssText},D=function(a){var c="",f="",g="",e=-1,h="",m="",k="",l;if(void 0!==a){if(e=a.title||"",""!=e){if((h=/^\{.*\}$/.test(e))&&d.jsonTitle)var q=eval("["+e+"]");f=h&&d.jsonTitle?q[0].title:f,g=h&&d.jsonTitle?q[0].description:g,c=h&&d.jsonTitle?q[0].image:e,k=h&&d.jsonTitle?q[0].imagecss:k}h=a.text||"",e=a.value||"",m=a.className||"",f=b(a).prop("data-title")||b(a).data("title")||f||"",g=b(a).prop("data-description")||b(a).data("description")||g||"",c=b(a).prop("data-image")||b(a).data("image")||c||"",k=b(a).prop("data-imagecss")||b(a).data("imagecss")||k||"",l=b(a).index()}return{image:c,title:f,description:g,value:e,text:h,className:m,imagecss:k,index:l}},s=function(a,b,c){if(a=$.createElement(a),b)for(var d in b)switch(d){case"style":a.style.cssText=b[d];break;default:a[d]=b[d]}return c&&(a.innerHTML=c),a},U=function(a){var b={},c=ba(a);0<c.length&&(b.style=c),c=a.disabled?"disabled":t,c=a.selected?c+" "+k:c,c=c+" "+l,b.className=c,0!=d.useSprite&&(b.className=c+" "+a.className),b=s("li",b),c=D(a),""!=c.title&&(b.title=c.title);var f=c.image;if(""!=f&&d.showIcon){var g=s("img");g.src=f,""!=c.imagecss&&(g.className=c.imagecss+" ")}if(""!=c.description)var h=s("span",{className:"description"},c.description);return c=s("span",{className:"ddlabel"},a.text||""),!0===d.enableCheckbox&&(f=s("input",{type:"checkbox",name:e+d.checkboxNameSuffix+"[]",value:a.value||"",className:"checkbox"}),b.appendChild(f),!0===d.enableCheckbox&&(f.checked=a.selected?!0:!1)),g&&b.appendChild(g),b.appendChild(c),h?b.appendChild(h):g&&(g.className+="fnone"),a=s("div",{className:"clear"}),b.appendChild(a),b},w=function(a){var c=m("postChildID");if(a)return-1==a?b("#"+c).css({height:"auto",overflow:"auto"}):b("#"+c).css("height",a+"px"),!1;var f;if(a=h(e).options.length,a>d.visibleRows||d.visibleRows){f=b("#"+c+" li:first");var g=parseInt(f.css("padding-bottom"))+parseInt(f.css("padding-top"));0===d.rowHeight&&(b("#"+c).css({visibility:"hidden",display:"block"}),d.rowHeight=Math.ceil(f.height()),b("#"+c).css({visibility:"visible"}),u&&!0!==d.enableCheckbox||b("#"+c).css({display:"none"})),f=(d.rowHeight+g)*Math.min(d.visibleRows,a)+3}else u&&(f=b("#"+e).height());return f},ca=function(){var a=m("postChildID");b("#"+a).on("click",function(a){return!0===n?!1:(a.preventDefault(),a.stopPropagation(),void(u&&V()))}),b("#"+a+" li."+t).on("click",function(a){"input"!==a.target.nodeName.toLowerCase()&&E(this)}),b("#"+a+" li."+t).on("mousedown",function(c){if(!0===n)return!1;if(M=b("#"+a+" li."+k),L=this,c.preventDefault(),c.stopPropagation(),!0===d.enableCheckbox&&"input"===c.target.nodeName.toLowerCase()&&(A=!0),!0===u)if(x)if(!0===C){b(this).addClass(k);var e=b("#"+a+" li."+k),f=z(this);if(1<e.length){c=b("#"+a+" li."+l);var g=z(e[0]),e=z(e[1]);for(f>e&&(g=f,e+=1),f=Math.min(g,e);f<=Math.max(g,e);f++){var h=c[f];b(h).hasClass(t)&&b(h).addClass(k)}}}else!0===A?(b(this).toggleClass(k),!0===d.enableCheckbox&&(c=this.childNodes[0],c.checked=!c.checked)):(b("#"+a+" li."+k).removeClass(k),b("#"+a+" input:checkbox").prop("checked",!1),b(this).addClass(k),!0===d.enableCheckbox&&(this.childNodes[0].checked=!0));else b("#"+a+" li."+k).removeClass(k),b(this).addClass(k);else b("#"+a+" li."+k).removeClass(k),b(this).addClass(k)}),b("#"+a+" li."+t).on("mouseenter",function(a){return!0===n?!1:(a.preventDefault(),a.stopPropagation(),void(null!=L&&x&&(b(this).addClass(k),!0===d.enableCheckbox&&(this.childNodes[0].checked=!0))))}),b("#"+a+" li."+t).on("mouseover",function(a){return!0===n?!1:void b(this).addClass("hover")}),b("#"+a+" li."+t).on("mouseout",function(c){return!0===n?!1:void b("#"+a+" li.hover").removeClass("hover")}),b("#"+a+" li."+t).on("mouseup",function(c){return!0===n?!1:(c.preventDefault(),c.stopPropagation(),!0===d.enableCheckbox&&(A=!1),c=b("#"+a+" li."+k).length,I=M.length!=c||0==c?!0:!1,O(),P(),V(),void(L=null))}),0==d.disabledOptionEvents&&(b("#"+a+" li."+l).on("click",function(a){return!0===n?!1:void F(this,"click")}),b("#"+a+" li."+l).on("mouseenter",function(a){return!0===n?!1:void F(this,"mouseenter")}),b("#"+a+" li."+l).on("mouseover",function(a){return!0===n?!1:void F(this,"mouseover")}),b("#"+a+" li."+l).on("mouseout",function(a){return!0===n?!1:void F(this,"mouseout")}),b("#"+a+" li."+l).on("mousedown",function(a){return!0===n?!1:void F(this,"mousedown")}),b("#"+a+" li."+l).on("mouseup",function(a){return!0===n?!1:void F(this,"mouseup")}))},da=function(a,c,d){b("#"+a).off(c,d),b("#"+a).trigger(c),b("#"+a).on(c,d)},xa=function(){var a=m("postID"),c=m("postTitleTextID");m("postChildID"),b("#"+a).on(d.event,function(a){return!0===n?!1:(v(d.event),a.preventDefault(),a.stopPropagation(),void W(a))}),b("#"+a).on("keydown",function(a){var b=a.which;!K&&(13==b||38==b||40==b||37==b||39==b||b>=47&&!u)&&(W(a),b>=47?ea():(a.preventDefault(),a.stopImmediatePropagation()))}),b("#"+a).on("focus",fa),b("#"+a).on("blur",ga),b("#"+c).on("blur",function(b){da(a,"focus",fa)}),ca(),b("#"+a).on("dblclick",ra),b("#"+a).on("mousemove",sa),b("#"+a).on("mouseenter",ta),b("#"+a).on("mouseleave",ua),b("#"+a).on("mousedown",va),b("#"+a).on("mouseup",wa)},fa=function(a){v("focus")},ga=function(a){v("blur")},X=function(){var a=m("postID"),c=m("postChildID");!0===u&&!1===d.enableCheckbox?(b("#"+a+" .ddTitle").hide(),b("#"+c).css({display:"block",position:"relative"})):(!1===d.enableCheckbox&&(x=!1),b("#"+a+" .ddTitle").show(),b("#"+c).css({display:"none",position:"absolute"}),a=b("#"+c+" li."+k)[0],b("#"+c+" li."+k).removeClass(k),c=z(b(a).addClass(k)),y(c)),w(w())},ha=function(){var a=m("postID");!0===n?b("#"+a).addClass("disabledAll"):b("#"+a).removeClass("disabledAll")},za=function(){var a;a={className:H+" ddcommon"+("true"==d.roundedCorner?" borderRadius":"")};var c=ba(h(e)),f=b("#"+e).outerWidth();a.style="width: "+f+"px;",0<c.length&&(a.style=a.style+""+c),a.id=m("postID"),a.tabIndex=h(e).tabIndex,a=s("div",a);var g;g=0<=h(e).selectedIndex?h(e).options[h(e).selectedIndex]:{value:"",text:""};var i=c="";(f=b("#"+e).data("usesprite"))&&(d.useSprite=f),0!=d.useSprite&&(c=" "+d.useSprite,i=" "+g.className);var c=s("div",{className:"ddTitle"+c+("true"==d.roundedCorner?" borderRadiusTp":"")}),f=s("span",{className:"divider"}),j=s("span",{className:"ddArrow arrowoff"}),k=m("postTitleID"),i=s("span",{className:"ddTitleText"+i,id:k});g=D(g);var k=g.image,l=g.text||"";if(""!=k&&d.showIcon){var n=s("img");n.src=k,""!=g.imagecss&&(n.className=g.imagecss+" ")}for(k=s("span",{className:"ddlabel"},l),c.appendChild(f),c.appendChild(j),n&&i.appendChild(n),i.appendChild(k),c.appendChild(i),n=s("span",{className:"description"},g.description),i.appendChild(n),a.appendChild(c),n=m("postTitleTextID"),n=s("input",{id:n,type:"text",value:"",autocomplete:"none",className:"text shadow "+("true"==d.roundedCorner?"borderRadius":""),style:"display: none"}),a.appendChild(n),n={className:"ddChild ddchild_ border shadow",id:m("postChildID")},n.style=0==u?"z-index: "+d.zIndex:"z-index:1",(c=b("#"+e).data("childwidth")||d.childWidth)&&(n.style=(n.style||"")+";width:"+c),n=s("div",n),c=s("ul"),0!=d.useSprite&&(c.className=d.useSprite),f=h(e).children,j=0;j<f.length;j++){if(g=f[j],"optgroup"==g.nodeName.toLowerCase()){for(i=s("li",{className:"optgroup"}),k=s("span",{className:"optgroupTitle"},g.label),i.appendChild(k),g=g.children,k=s("ul"),l=0;l<g.length;l++){var o=U(g[l]);k.appendChild(o)}i.appendChild(k)}else i=U(g);c.appendChild(i)}n.appendChild(c),a.appendChild(n),b("#"+e).after(a),a=m("postElementHolder"),0==b("#"+a).length?(n={style:"height: 0px;overflow: hidden;position: absolute;",className:"ddOutOfVision"},n.id=a,n=s("div",n),b("#"+e).after(n),b("#"+e).appendTo(b("#"+a))):b("#"+a).css({height:0,overflow:"hidden",position:"absolute"}),h(e).tabIndex=-1,a=m("postTitleTextID"),"true"==d.enableAutoFilter&&b("#"+a).on("keyup",ya),X(),ha(),xa(),a=m("postChildID"),""!=d.append&&b("#"+a).append(d.append),""!=d.prepend&&b("#"+a).prepend(d.prepend),"function"==typeof d.on.create&&d.on.create.apply(q,arguments)},ia=function(a){function c(a){b(b("#"+e+" li."+l)[a]).addClass(k),!0===d.enableCheckbox&&b(b("#"+e+" li."+l)[a]).find("input.checkbox").prop("checked","checked")}var e=m("postChildID");if(b("#"+e+" li."+l).removeClass(k),!0===d.enableCheckbox&&b("#"+e+" li."+l+" input.checkbox").prop("checked",!1),!0===aa(a))for(var f=0;f<a.length;f++)c(a[f]);else c(a)},ja=function(a,c){for(var d=m("postChildID"),d=a||b("#"+d+" li."+k),f=0;f<d.length;f++){var g=!0===c?d[f]:z(d[f]);h(e).options[g].selected="selected"}y(d)},O=function(){var a=m("postChildID"),c=b("#"+a+" li."+k);(x&&(C||A)||I)&&(h(e).selectedIndex=-1);var f;0==c.length?f=-1:1<c.length?ja(c):f=z(b("#"+a+" li."+k)),(h(e).selectedIndex!=f||I)&&1>=c.length&&(I=!1,Q("change"),h(e).selectedIndex=f,y(f),"function"==typeof d.on.change&&(a=B(),d.on.change(a.data,a.ui)),b("#"+e).trigger("change"))},y=function(a,c){if(void 0!==a){var d,f,g;-1==a?(d=-1,g=f="",G(-1)):"object"!=typeof a?(f=h(e).options[a],d=h(e).selectedIndex=a,f=D(f),g=a>=0?h(e).options[a].text:"",G(void 0,f),f=f.value):(d=c&&c.index||h(e).selectedIndex,f=c&&c.value||h(e).value,g=c&&c.text||h(e).options[h(e).selectedIndex].text||"",G(d)),q.selectedIndex=d,q.value=f,q.selectedText=g,d=h(e).children,q.children=d,d=B(),q.uiData=d,d=b("#"+e+" option:selected"),q.selectedOptions=d}},Q=function(a){var c={byElement:!1,byJQuery:!1,hasEvent:!1},d=b("#"+e);try{null!==d.prop("on"+a)&&(c.hasEvent=!0,c.byElement=!0)}catch(f){}return(d="function"==typeof b._data?b._data(d[0],"events"):d.data("events"))&&d[a]&&(c.hasEvent=!0,c.byJQuery=!0),c},V=function(){P(),b("body").on("click",E),b(document).on("keydown",ka),b(document).on("keyup",la)},P=function(){b("body").off("click",E),b(document).off("keydown",ka),b(document).off("keyup",la)},ya=function(a){if(47>a.keyCode&&8!=a.keyCode&&46!=a.keyCode)return!1;a=m("postChildID");var c=m("postTitleTextID"),c=h(c).value;0==c.length?(b("#"+a+" li:hidden").show(),w(w())):(b("#"+a+" li").hide(),c=b("#"+a+" li:Contains('"+c+"')").show(),b("#"+a+" li:visible").length<=d.visibleRows&&w(-1),(0<c.length&&!u||!x)&&(b("#"+a+" ."+k).removeClass(k),b(c[0]).addClass(k))),u||R()},ea=function(){if("true"==d.enableAutoFilter){var a=m("postID"),c=m("postTitleTextID");0<b("#"+c+":hidden").length&&0==A&&(b("#"+c+":hidden").show().val(""),da(a,"blur",ga),h(c).focus())}},ka=function(a){m("postTitleTextID");var c=m("postChildID");switch(a.keyCode){case 40:case 39:a.preventDefault(),a.stopPropagation(),Aa();break;case 38:case 37:a.preventDefault(),a.stopPropagation(),Ba();break;case 27:case 13:a.preventDefault(),a.stopPropagation(),E(),a=b("#"+c+" li."+k).length,I=M.length!=a||0==a?!0:!1,O(),P(),L=null;break;case 16:C=!0;break;case 17:A=!0;break;default:47<=a.keyCode&&!1===u&&ea()}return!0===n?!1:void v("keydown")},la=function(a){switch(a.keyCode){case 16:C=!1;break;case 17:A=!1}return!0===n?!1:void v("keyup")},ra=function(a){return!0===n?!1:void v("dblclick")},sa=function(a){return!0===n?!1:void v("mousemove")},ta=function(a){return!0===n?!1:(a.preventDefault(),void v("mouseover"))},ua=function(a){return!0===n?!1:(a.preventDefault(),void v("mouseout"))},va=function(a){return!0===n?!1:void v("mousedown")},wa=function(a){return!0===n?!1:void v("mouseup")},Y=function(a,c){var d={byElement:!1,byJQuery:!1,hasEvent:!1};void 0!=b(a).prop("on"+c)&&(d.hasEvent=!0,d.byElement=!0);var e=b(a).data("events");return e&&e[c]&&(d.hasEvent=!0,d.byJQuery=!0),d},F=function(a,c){if(0==d.disabledOptionEvents){var f=h(e).options[z(a)];if(!0===Y(f,c).hasEvent){if(!0===Y(f,c).byElement&&f["on"+c](),!0===Y(f,c).byJQuery)switch(c){case"keydown":case"keyup":break;default:b(f).trigger(c)}return!1}}},v=function(a){if("function"==typeof d.on[a]&&d.on[a].apply(this,arguments),!0===Q(a).hasEvent){if(!0===Q(a).byElement)h(e)["on"+a]();else if(!0===Q(a).byJQuery)switch(a){case"keydown":case"keyup":break;default:b("#"+e).triggerHandler(a)}return!1}},Z=function(a){var c=m("postChildID");if(a=void 0!==a?a:b("#"+c+" li."+k),0<a.length){a=parseInt(b(a).position().top);var d=parseInt(b("#"+c).height());a>d&&(a=a+b("#"+c).scrollTop()-d/2,b("#"+c).animate({scrollTop:a},500))}},Aa=function(){function a(c){return c+=1,c>d.length||!0===b(d[c]).hasClass(t)?c:a(c)}var c=m("postChildID"),d=b("#"+c+" li:visible."+l),e=b("#"+c+" li:visible."+k),e=0==e.length?d[0]:e,e=b("#"+c+" li:visible."+l).index(e);e<d.length-1&&(e=a(e),e<d.length&&(C&&u&&x||b("#"+c+" ."+k).removeClass(k),b(d[e]).addClass(k),G(e),1==u&&O(),Z(b(d[e]))),u||R())},Ba=function(){function a(c){return c-=1,0>c||!0===b(e[c]).hasClass(t)?c:a(c)}var c=m("postChildID"),d=b("#"+c+" li:visible."+k),e=b("#"+c+" li:visible."+l),d=b("#"+c+" li:visible."+l).index(d[0]);d>=0&&(d=a(d),d>=0&&(C&&u&&x||b("#"+c+" ."+k).removeClass(k),b(e[d]).addClass(k),G(d),1==u&&O(),0>=parseInt(b(e[d]).position().top+b(e[d]).height())&&(d=b("#"+c).scrollTop()-b("#"+c).height()-b(e[d]).height(),b("#"+c).animate({scrollTop:d},500))),u||R())},R=function(){var a=m("postID"),c=m("postChildID"),e=b("#"+a).offset(),f=b("#"+a).height(),g=b(window).height(),h=b(window).scrollTop(),i=b("#"+c).height(),j=b("#"+a).height(),k=d.openDirection.toLowerCase();(g+h<Math.floor(i+f+e.top)||"alwaysup"==k)&&"alwaysdown"!=k?(j=i,b("#"+c).css({top:"-"+j+"px",display:"block",zIndex:d.zIndex}),"true"==d.roundedCorner&&b("#"+a).removeClass("borderRadius borderRadiusTp").addClass("borderRadiusBtm"),j=b("#"+c).offset().top,-10>j&&(b("#"+c).css({top:parseInt(b("#"+c).css("top"))-j+20+h+"px",zIndex:d.zIndex}),"true"==d.roundedCorner&&b("#"+a).removeClass("borderRadiusBtm borderRadiusTp").addClass("borderRadius"))):(b("#"+c).css({top:j+"px",zIndex:d.zIndex}),"true"==d.roundedCorner&&b("#"+a).removeClass("borderRadius borderRadiusBtm").addClass("borderRadiusTp")),pa&&(c=N.indexOf("MSIE"),c=c>0?parseInt(N.substring(c+5,N.indexOf(".",c))):0,7>=c&&(b("div.ddcommon").css("zIndex",d.zIndex-10),b("#"+a).css("zIndex",d.zIndex+5)))},W=function(a){if(!0===n)return!1;if(m("postID"),a=m("postChildID"),K)"mouseover"!==d.event&&E();else{K=!0,""!=msBeautify.oldDiv&&b("#"+msBeautify.oldDiv).css({display:"none"}),msBeautify.oldDiv=a,b("#"+a+" li:hidden").show(),R();var c=d.animStyle;""==c||"none"==c?(b("#"+a).css({display:"block"}),Z(),"function"==typeof d.on.open&&(a=B(),d.on.open(a.data,a.ui))):b("#"+a)[c]("fast",function(){if(Z(),"function"==typeof d.on.open){var a=B();d.on.open(a.data,a.ui)}}),V()}},E=function(a){K=!1;var c=m("postID");a=m("postChildID"),(!1===u||!0===d.enableCheckbox)&&(b("#"+a).css({display:"none"}),"true"==d.roundedCorner&&b("#"+c).removeClass("borderRadiusTp borderRadiusBtm").addClass("borderRadius")),P(),"function"==typeof d.on.close&&(c=B(),d.on.close(c.data,c.ui)),c=m("postTitleTextID"),0<b("#"+c+":visible").length&&(b("#"+c+":visible").hide(),h(c).blur()),w(w()),b("#"+a).css({zIndex:1}),G(h(e).selectedIndex)},Ca=function(){try{J=b.extend(!0,{},h(e));for(var a in J)"function"!=typeof J[a]&&(q[a]=J[a])}catch(c){}q.selectedText=0<=h(e).selectedIndex?h(e).options[h(e).selectedIndex].text:"",q.version=msBeautify.version.msDropdown,q.author=msBeautify.author},ma=function(a){if(null!=a&&"undefined"!=typeof a){var c=m("postChildID"),d=D(a),c=b("#"+c+" li."+l+":eq("+a.index+")");return{data:d,ui:c,option:a,index:a.index}}return null},B=function(){var a,c,d=m("postChildID"),f=h(e);if(-1==f.selectedIndex)c=d=a=null,f=-1;else if(d=b("#"+d+" li."+k),1<d.length){var g=[];for(c=[],a=0;a<d.length;a++){var i=z(d[a]);g.push(i),c.push(f.options[i])}f=a=g}else c=f.options[f.selectedIndex],a=D(c),f=f.selectedIndex;return{data:a,ui:d,index:f,option:c}},G=function(a,c){var f=m("postTitleID"),g={};-1==a?(g.text="&nbsp;",g.className="",g.description="",g.image=""):"undefined"!=typeof a?(g=h(e).options[a],g=D(g)):g=c,b("#"+f).find(".ddlabel").html(g.text),h(f).className="ddTitleText "+g.className,""!=g.description?b("#"+f).find(".description").html(g.description).show():b("#"+f).find(".description").html("").hide();var i=b("#"+f).find("img");0<i.length&&b(i).remove(),""!=g.image&&d.showIcon&&(i=s("img",{src:g.image}),b("#"+f).prepend(i),""!=g.imagecss&&(i.className=g.imagecss+" "),""==g.description&&(i.className+="fnone"))},na=function(a,b){q[a]=b},oa=function(a,c,f){var g=m("postChildID"),i=!1;switch(a){case"add":var j=U(c||h(e).options[f]),i=3==arguments.length?f:b("#"+g+" li."+l).length-1;0>i||!i?b("#"+g+" ul").append(j):(g=b("#"+g+" li."+l)[i],b(g).before(j)),g=m("postChildID"),b("#"+g).off("click"),b("#"+g+" li."+t).off("mouseenter"),b("#"+g+" li."+t).off("click"),b("#"+g+" li."+t).off("mouseover"),b("#"+g+" li."+t).off("mouseout"),b("#"+g+" li."+t).off("mousedown"),b("#"+g+" li."+t).off("mouseup"),ca(),null!=d.on.add&&d.on.add.apply(this,arguments);break;case"remove":i=b(b("#"+g+" li."+l)[f]).hasClass(k),b("#"+g+" li."+l+":eq("+f+")").remove(),j=b("#"+g+" li."+t),1==i&&0<j.length&&(b(j[0]).addClass(k),i=b("#"+g+" li."+l).index(j[0]),y(i)),0==j.length&&y(-1),b("#"+g+" li."+l).length<d.visibleRows&&!u&&w(-1),null!=d.on.remove&&d.on.remove.apply(this,arguments)}};this.act=function(){var a=arguments[0];switch(Array.prototype.shift.call(arguments),a){case"add":q.add.apply(this,arguments);break;case"remove":q.remove.apply(this,arguments);break;default:try{h(e)[a].apply(h(e),arguments)}catch(b){}}},this.add=function(){var a,c,d,f,g;g=arguments[0],"string"==typeof g?(a=g,opt=new Option(a,a)):(a=g.text||"",c=g.value||a,d=g.title||"",f=g.image||"",g=g.description||"",opt=new Option(a,c),b(opt).data("description",g),b(opt).data("image",f),b(opt).data("title",d)),arguments[0]=opt,h(e).add.apply(h(e),arguments),a=h(e).children,q.children=a,a=h(e).length,q.length=a,oa("add",opt,arguments[1])},this.remove=function(a){h(e).remove(a);var b=h(e).children;q.children=b,b=h(e).length,q.length=b,oa("remove",void 0,a)},this.set=function(a,c){if("undefined"==typeof a||"undefined"==typeof c)return!1;a=a.toString();try{q[a]=c}catch(d){}switch(a){case"size":h(e)[a]=c,0==c&&(h(e).multiple=!1),u=1<h(e).size||1==h(e).multiple?!0:!1,X();break;case"multiple":h(e)[a]=c,u=1<h(e).size||1==h(e).multiple?!0:!1,x=h(e).multiple,X(),q[a]=c;break;case"disabled":n=h(e)[a]=c,ha();break;case"selectedIndex":case"value":"selectedIndex"==a&&!0===aa(c)?(b("#"+e+" option").prop("selected",!1),ja(c,!0),ia(c)):(h(e)[a]=c,ia(h(e).selectedIndex),y(h(e).selectedIndex));break;case"length":var f=m("postChildID");c<h(e).length&&(h(e)[a]=c,0==c?(b("#"+f+" li."+l).remove(),y(-1)):(b("#"+f+" li."+l+":gt("+(c-1)+")").remove(),0==b("#"+f+" li."+k).length&&b("#"+f+" li."+t+":eq(0)").addClass(k)),q[a]=c,f=h(e).children,q.children=f);break;case"id":break;default:try{h(e)[a]=c,q[a]=c}catch(g){}}},this.get=function(a){return q[a]||h(e)[a]},this.visible=function(a){var c=m("postID");if(!0===a)b("#"+c).show();else{if(!1!==a)return"none"==b("#"+c).css("display")?!1:!0;b("#"+c).hide()}},this.debug=function(a){msBeautify.debug(a)},this.close=function(){E()},this.open=function(){W()},this.visibleRows=this.showRows=function(a){return"undefined"==typeof a||0==a?!1:(d.visibleRows=a,void w(w()))},this.on=function(a,c){b("#"+e).on(a,c)},this.off=function(a,c){b("#"+e).off(a,c)},this.addMyEvent=this.on,this.getData=function(){return B()},this.namedItem=function(){var a=h(e).namedItem.apply(h(e),arguments);return ma(a)},this.item=function(){var a=h(e).item.apply(h(e),arguments);return ma(a)},this.setIndexByValue=function(a){this.set("value",a)},this.destroy=function(){m("postElementHolder");var a=m("postID");b("#"+a+", #"+a+" *").off(),h(e).tabIndex=h(a).tabIndex,b("#"+a).remove(),b("#"+e).parent().replaceWith(b("#"+e)),b("#"+e).data("dd",null)},this.refresh=function(){y(h(e).selectedIndex)},function(){qa(),e.id||(e.id="msdrpdd"+msBeautify.counter++),e=e.id,q.element=e,d.mainCSS=b("#"+e).data("maincss")||d.mainCSS,d.visibleRows=b("#"+e).data("visiblerows")||d.visibleRows,0==b("#"+e).data("showicon")&&(d.showIcon=b("#"+e).data("showicon")),d.useSprite=b("#"+e).data("usesprite")||d.useSprite,d.animStyle=b("#"+e).data("animstyle")||d.animStyle,d.event=b("#"+e).data("event")||d.event,d.openDirection=b("#"+e).data("opendirection")||d.openDirection,d.jsonTitle=b("#"+e).data("jsontitle")||d.jsonTitle,d.disabledOpacity=b("#"+e).data("disabledopacity")||d.disabledOpacity,d.childWidth=b("#"+e).data("childwidth")||d.childWidth,d.enableCheckbox=b("#"+e).data("enablecheckbox")||d.enableCheckbox,d.checkboxNameSuffix=b("#"+e).data("checkboxnamesuffix")||d.checkboxNameSuffix,d.append=b("#"+e).data("append")||d.append,d.prepend=b("#"+e).data("prepend")||d.prepend,d.reverseMode=b("#"+e).data("reversemode")||d.reverseMode,d.roundedCorner=b("#"+e).data("roundedcorner")||d.roundedCorner,d.enableAutoFilter=b("#"+e).data("enableautofilter")||d.enableAutoFilter,d.reverseMode=d.reverseMode.toString(),d.roundedCorner=d.roundedCorner.toString(),d.enableAutoFilter=d.enableAutoFilter.toString(),n=h(e).disabled,"true"===d.enableCheckbox.toString()&&(h(e).multiple=!0,d.enableCheckbox=!0),(u=1<h(e).size||1==h(e).multiple?!0:!1)&&(x=h(e).multiple),Ca(),za(),na("uiData",B()),na("selectedOptions",b("#"+e+" option:selected"));var a=m("postChildID");M=b("#"+a+" li."+k),"true"===d.reverseMode&&b("#"+e).on("change",function(){y(this.selectedIndex)}),h(e).refresh=function(a){b("#"+e).msDropdown().data("dd").refresh()}}()}msBeautify={version:{msDropdown:"3.5.2"},author:"Marghoob Suleman",counter:20,debug:function(a){!1!==a?b(".ddOutOfVision").css({height:"auto",position:"relative"}):b(".ddOutOfVision").css({height:"0px",position:"absolute"})},oldDiv:"",create:function(a,c,d){var e;switch((d||"dropdown").toLowerCase()){case"dropdown":case"select":e=b(a).msDropdown(c).data("dd")}return e}},b.msDropDown={},b.msDropdown={},b.extend(!0,b.msDropDown,msBeautify),b.extend(!0,b.msDropdown,msBeautify),void 0===b.fn.prop&&(b.fn.prop=b.fn.attr),void 0===b.fn.on&&(b.fn.on=b.fn.bind,b.fn.off=b.fn.unbind),b.expr[":"].Contains="function"==typeof b.expr.createPseudo?b.expr.createPseudo(function(a){return function(c){return 0<=b(c).text().toUpperCase().indexOf(a.toUpperCase())}}):function(a,c,d){return 0<=b(a).text().toUpperCase().indexOf(d[3].toUpperCase())},b.fn.extend({msDropDown:function(a){return this.each(function(){if(!b(this).data("dd")){var c=new S(this,a);b(this).data("dd",c)}})}}),b.fn.msDropdown=b.fn.msDropDown}(jQuery),jQuery.extend(jQuery.easing,{easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*(2*Math.PI)/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=e*(.3*1.5)),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g))+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*(b*b*(((f*=1.525)+1)*b-f))+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*(7.5625*b*b)+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}}),function(a){function b(b){a(c(this).left).css("visibility",""),a(c(this).right).css("visibility",""),0==c(this).iterator&&a(c(this).left,this).css("visibility","hidden"),(c(this).iterator==b.length-c(this).showThumb||c(this).showThumb>b.length)&&a(c(this).right,this).css("visibility","hidden")}function c(b){return a.data(b,"vvGeoSlider")}a.vvGeoSlider={defaults:{imgWidth:252,imgHeight:252,showThumb:4,imgBlock:".x-geo-slider-block",blockList:".x-slider-list",blockListRegion:".x-slider-list-block",left:".x-left",right:".x-right",iterator:0}},a.fn.extend({vvGeoSlider:function(c){return this.each(function(){c=a.extend({},a.vvGeoSlider.defaults,c),a.data(this,"vvGeoSlider",c);var d=this,e=(c.showThumb,a(c.imgBlock,this));e.each(function(a){});var f=c.imgWidth*c.showThumb;a(c.blockList,this).css("width",f),a(c.blockList,this).css("height",c.imgHeight),a(c.blockList,this).css("overflow","hidden"),a(c.blockListRegion).css("width",c.imgWidth*e.length),a(c.left).on("click",function(f){c.iterator>0&&c.iterator--,a(c.blockListRegion).animate({marginLeft:"+="+c.imgWidth+"px"},function(){b.call(d,e)})}),a(c.right).on("click",function(){c.iterator<=e.length&&c.iterator++,a(c.blockListRegion).animate({marginLeft:"-="+c.imgWidth+"px"},function(){b.call(d,e)})}),b.call(d,e)})}})}(jQuery),function(a){function b(a){var b=a.data("dd");b.addMyEvent("onOpen",function(){a.attr("id")})}function c(b){a(l(this).locationFromInput,this).val(b)}function d(b){a(l(this).singleLocationInput,this).val(b)}function e(){var b=a(l(this).subCategorySelector,this).msDropDown().data("dd");b.destroy(),b&&b.visible(!1),a(l(this).typeSelector,this).data("dd").visible(!1),a(l(this).singleLocation,this).addClass("hidden"),a(l(this).locationFrom,this).addClass("hidden"),a(l(this).locationTo,this).addClass("hidden"),a(".x-location-country-single",this).addClass("hidden"),a(".x-location-country-multi",this).addClass("hidden"),a(l(this).subCategorySelector,this).html("")}function f(){a(l(this).typeSelector,this).data("dd").visible(!1)}function g(){a(l(this).singleLocation,this).addClass("hidden"),a(l(this).locationFrom,this).addClass("hidden"),a(l(this).locationTo,this).addClass("hidden"),a(".x-location-country-single",this).addClass("hidden"),a(".x-location-country-multi",this).addClass("hidden")}function h(){e.call(this);var c=this,d=a(l(this).categorySelector,this).val(),f=get_subCategories(),g=f[d];if(9==d)return!1;if(g&&void 0!=g){a.each(g,function(b,d){a(l(c).subCategorySelector,c).append(a("<option></option>").attr("value",b).text(d))});var h=a(l(this).subCategorySelector,this),i=h.data("default");a("option[value="+i+"]",h).attr("selected","selected");try{a(l(this).subCategorySelector,this).msDropDown({mainCSS:"dd2",visibleRows:10,indent:6})}catch(j){}b.call(this,a(l(this).subCategorySelector,this)),a(l(this).subCategorySelector,this).data("dd").visible(!0)}}function i(){f.call(this);var b=parseInt(a(l(this).subCategorySelector,this).val()),c=parseInt(a(l(this).categorySelector,this).val());if(0!=c&&0!=b){switch(c){case 4:return void a(l(this).typeSelector,this).data("dd").set("selectedIndex",0);case 9:a(l(this).typeSelector,this).data("dd").set("selectedIndex",1)}a(l(this).typeSelector,this).data("dd").visible(!0)}}function j(){g.call(this);var b=a(l(this).subCategorySelector,this).val(),e=a(l(this).categorySelector,this).val();if(0!=e&&0!=b){var f=a(l(this).typeSelector,this).val();1==f?(a(l(this).singleLocationInput,this).val()||d.call(this,a(l(this).locationFromInput,this).val()),a(l(this).singleLocation,this).removeClass("hidden"),a(l(this).locationFrom,this).addClass("hidden"),a(l(this).locationTo,this).addClass("hidden"),a(".x-location-country-single",this).removeClass("hidden"),a(".x-location-country-multi",this).addClass("hidden")):(a(l(this).locationFromInput,this).val()||c.call(this,a(l(this).singleLocationInput,this).val()),a(l(this).singleLocation,this).addClass("hidden"),a(l(this).locationFrom,this).removeClass("hidden"),a(l(this).locationTo,this).removeClass("hidden"),a(".x-location-country-single",this).addClass("hidden"),a(".x-location-country-multi",this).removeClass("hidden"))}}function k(){var b=a(".x-promo-info",this);parseInt(a(l(this).categorySelector,this).val())?b.hide():b.show()}function l(b){return a.data(b,"vvPromo")}a.vvPromo={defaults:{categorySelector:".x-category-selector",subCategorySelector:".x-subcategory-selector",typeSelector:".x-type-selector",singleLocation:".x-single-location",
locationFrom:".x-location-from",locationTo:".x-location-to",locationMulti:".x-location-multi",singleLocationInput:".x-single-location input",locationFromInput:".x-location-from input",locationToInput:".x-location-to input",form:".x-promo-form",formBtn:".x-promo-btn",input:".x-input"},messages:{}},a.fn.extend({vvPromo:function(c){return this.each(function(){c=a.extend({},a.vvPromo.defaults,c),a.data(this,"vvPromo",c);var d=this;try{a(c.categorySelector,this).msDropDown({mainCSS:"dd2",visibleRows:11,indent:6}),a(c.typeSelector,this).msDropDown({mainCSS:"dd2",indent:6}).data("dd").visible(!1)}catch(e){}b.call(this,a(c.categorySelector,this)),b.call(this,a(c.typeSelector,this)),a(c.categorySelector,this).change(function(){h.call(d),k.call(d),i.call(d),j.call(d)}),a(c.subCategorySelector,this).change(function(){i.call(d),j.call(d)}),a(c.typeSelector,this).change(function(){j.call(d)}),a(c.input,this).keyup(function(){}),a(c.categorySelector,this).trigger("change"),a(".x-promo-country").vvPromoCountry()})}})}(jQuery),function(a){function b(){var b,d=parseInt(a(f(this).externalOrderIdInput,this).val());return d?(b={external_order_id:d,external_service:a(f(this).externalServiceInput,this).val()},void a.ajax({url:f(this).dataLoadUrl,type:"POST",data:b,context:this,dataType:"json",success:function(a){c.call(this,a)}})):(a(f.externalOrderTitleInput,this).parent().addClass("hidden"),void a(f.externalOrderLocationInput,this).parent().addClass("hidden"))}function c(b){var c=b&&b.details?b.details:{},d=a(f(this).externalOrderTitleInput,this),e=a(f(this).externalOrderLocationInput,this);c.title?d.val(c.title).parent().removeClass("hidden"):d.val("").parent().addClass("hidden"),c.city_from?e.val(c.city_from).parent().removeClass("hidden"):e.val("").parent().addClass("hidden")}function d(){a(f(this).noteImage,this).fadeIn(200)}function e(){a(f(this).noteImage,this).fadeOut(200)}function f(b){return a.data(b,"vvPromoExternal")}a.vvPromoExternal={defaults:{externalServiceInput:".x-external-service",externalOrderIdInput:".x-external-order-id input",externalOrderTitleInput:".x-external-order-title input",externalOrderLocationInput:".x-external-order-location input",noteImage:".x-external-note",noteBtn:".x-external-note-btn",formBtn:".x-promo-btn",input:".x-input",dataLoadUrl:"/map/do_import_external"},messages:{}},a.fn.extend({vvPromoExternal:function(c){return this.each(function(){c=a.extend({},a.vvPromoExternal.defaults,c),a.data(this,"vvPromoExternal",c);var f=this;a(c.externalOrderIdInput,this).change(function(){b.call(f)}),a(c.noteBtn,this).mouseover(function(){d.call(f)}).mouseout(function(){e.call(f)})})}})}(jQuery),function(a){function b(){var b=a(d(this).orderTitleInput,this).val().toLowerCase(),c=null,e=null;a.each(get_subCategories(),function(d,f){return a.each(f,function(a,c){return b===c.toLowerCase()?(e=a,!1):void 0}),e?(c=d,!1):void 0}),e?a(d(this).orderTitleInput,this).val(""):(c=1,e=109),a(d(this).orderCategoryInput,this).val(c),a(d(this).orderSubcategoryInput,this).val(e)}function c(){var b=a(d(this).shopAddressSelector,this).val().split(";");b.length&&(a(d(this).orderLocationInput,this).val(b[0]?b[0]:null),a(d(this).orderStreetInput,this).val(b[1]?b[1]:null),a(d(this).orderHomeInput,this).val(b[2]?b[2]:null))}function d(b){return a.data(b,"vvPromoIkea")}a.vvPromoIkea={defaults:{shopAddressSelector:".x-shop-address-selector",orderCategoryInput:"input.x-order-category",orderSubcategoryInput:"input.x-order-subcategory",orderLocationInput:"input.x-order-location",orderStreetInput:"input.x-order-street",orderHomeInput:"input.x-order-home",orderTitleInput:".x-order-title input",formBtn:".x-promo-btn"},messages:{}},a.fn.extend({vvPromoIkea:function(d){return this.each(function(){var e=this;d=a.extend({},a.vvPromoIkea.defaults,d),a.data(this,"vvPromoIkea",d);try{a(d.shopAddressSelector,this).msDropDown({mainCSS:"dd2",visibleRows:11,indent:6})}catch(f){}a(d.shopAddressSelector,this).change(function(){c.call(e)}),a(d.formBtn,this).click(function(){b.call(e)})})}})}(jQuery),function(a){function b(){var b,d=a(e(this).formBtn,this).closest("form"),f=a(e(this).shippingTypeSelector,this).val(),g=a(".x-location-country-single");switch(c.call(this),f){case"all":b=a(e(this).shippingFromRegionInput,this).parent();break;case"region":b=a(e(this).shippingRegionInput,this).parent();break;case"town":b=a(e(this).shippingCityInput,this).parent();break;default:return void g.addClass("hidden")}g.removeClass("hidden"),d.attr("action",b.data("action")),b.removeClass("hidden")}function c(){a(e(this).shippingFromRegionInput,this).val("").parent().addClass("hidden"),a(e(this).shippingRegionInput,this).val("").parent().addClass("hidden"),a(e(this).shippingCityInput,this).val("").parent().addClass("hidden"),a(e(this).shippingWeightInput,this).val(""),a(e(this).shippingWeightCheck,this).removeAttr("checked"),a(e(this).shippingWeightBlock,this).addClass("hidden"),a(e(this).shippingKeywordInput,this).val("")}function d(b){a(e(this).shippingKeywordInput,this).val(b.val())}function e(b){return a.data(b,"vvPromoSearch")}a.vvPromoSearch={defaults:{shippingTypeSelector:".x-shipping-type-selector",shippingFromRegionInput:".x-shipping-from-region input",shippingRegionInput:".x-shipping-region input",shippingCityInput:".x-shipping-city input",shippingWeightInput:".x-shipping-weight input",shippingWeightCheck:"input.x-shipping-weight-check",shippingWeightBlock:".x-shipping-weight-block",shippingKeywordInput:"input.x-shipping-keyword",shippingKeywordsInput:"input.x-shipping-keywords",formBtn:".x-promo-btn",input:".x-input"},messages:{}},a.fn.extend({vvPromoSearch:function(c){return this.each(function(){var e=this;c=a.extend({},a.vvPromoSearch.defaults,c),a.data(this,"vvPromoSearch",c);try{a(c.shippingTypeSelector,this).msDropDown({mainCSS:"dd2",indent:6})}catch(f){}a(c.shippingTypeSelector,this).change(function(){b.call(e)}),a(c.shippingKeywordsInput,this).bind("change ac.select",function(){d.call(e,a(this))}),a(c.formBtn,this).click(function(){}),a(".x-promo-country").vvPromoCountry()})}})}(jQuery),function(a){function b(){var b=this,c=a(j(this).transForm,this),d=c.serializeObject(),e=a(j(this).transSubcategorySelector,this).find("option:selected").text(),f={};f.order={},f.order[0]={},f.order[0][7]={},f.order[0][7].dates={},f.location={},f.location[0]={},f.location[1]={},f.location[0][1]={},f.location[0][2]={},f.location[1][1]={},f.location[1][2]={},f.user={},f.user.login={},f.user.register={},f.category_id=7,f.category_name="transport",f.order[0][7].subcategory=[d.subcategory],f.order[0][7].title=e+" "+d.auto_brand+" "+d.auto_model+(d.auto_year?" / "+d.auto_year+" г":""),f.order[0][7].comment=d.comment,f.order[0][7].weight="",f.order[0][7].weight_unit=1,f.order[0][7].dimension_x="",f.order[0][7].dimension_y="",f.order[0][7].dimension_z="",f.order[0][7].volume="",f.order[0][7].volume_unit=1,f.order[0][7].dates.date_from=d.date_from,f.order[0][7].dates.date_to="",f.MAX_FILE_SIZE=2097152,f.order[0][7].photo="",f.location[0][1].country=d.country_from,f.location[0][1].city=d.city_from_raw,f.location[0][1].street="",f.location[0][1].home="",f.location[1][1].country="",f.location[1][1].city="",f.location[1][1].street="",f.location[1][1].home="",f.location[0][2].country=d.country_to,f.location[0][2].city=d.city_to_raw,f.location[0][2].street="",f.location[0][2].home="",f.location[1][2].country="",f.location[1][2].city="",f.location[1][2].street="",f.location[1][2].home="",f.user.login.remember=1,f.user.login.email="",f.user.login.password="",f.user.register.email=d.email,f.user.register.name=d.name,f.user.register.phone=d.phone,f.user.register.phone_landline="",f.add_order=1,f.__pac=d.__pac,a.ajax({url:site_url("order/add_order"),data:f,type:"POST",dataType:"json",success:function(c){c.success?location.href=c.details.url:a.each(c.errors,function(c,d){var e=a('[data-key="'+c+'"]');return e.length?void h.call(b,e.attr("name"),d):(alert(d),!1)})},beforeSend:function(){a(j(b).transOrderBtn,b).attr("disabled","disabled")},complete:function(){a(j(b).transOrderBtn,b).removeAttr("disabled")}})}function c(b){var c,d=a(j(this).transCompanySlider,this),e=d.data("AnythingSlider");c=b.hasClass("next")?e.currentPage+1<=e.pages?e.currentPage+1:1:e.currentPage-1>=1?e.currentPage-1:e.pages,d.anythingSlider(c)}function d(){var b=this,c=a(j(this).transBrandSelector,this),d=a(j(this).transModelSelector,this);a("option",c).length>1&&(a('option[value=""]',c).remove(),a(j(b).transBrandSelector,b).msDropDown({mainCSS:"dd2",indent:6})),d.empty(),a.getJSON(site_url(j(b).transModelsLink),{brand_title:c.val()},function(c){a.each(c,function(a,b){d.append('<option value="'+b+'">'+b+"</option>")}),a(j(b).transModelSelector,b).msDropDown({mainCSS:"dd2",indent:6})})}function e(){a(j(this).transStep2Block,this).hide(),a(j(this).transStep1Block,this).show()}function f(){a(j(this).transForm,this).valid()&&(a(j(this).transStep1Block,this).hide(),a(j(this).transStep2Block,this).show())}function g(){var b=this;a(j(b).transForm,b).validate({errorClass:"",rules:{email:{required:!0,email:!0},name:{required:!0},phone:{},city_from:{required:!0},city_to:{required:!0},auto_brand:{required:!0},auto_model:{required:!0}},messages:{email:{required:"Поле «Электронная почта» обязательно к заполнению",email:"Электронная почта имеет некорректный формат"},name:{required:"Поле «Имя» обязательно к заполнению"},phone:{required:"Обязательно укажите мобильный или стационарный телефон"},city_from:{required:"Поле «Откуда» обязательно к заполнению"},city_to:{required:"Поле «Куда» обязательно к заполнению"},auto_brand:{required:"Поле «Марка» обязательно к заполнению"},auto_model:{required:"Поле «Модель» обязательно к заполнению"}},errorPlacement:function(a,c){h.call(b,a.attr("for"),a.html())},success:function(a){i.call(b,a.attr("for"))}})}function h(b,c){var d=a(j(this).transErrorBlock,this),e=a("li."+b,d);d.show(),e.length?e.text(c):d.find("ul").append(a("<li>").addClass(b).text(c))}function i(b){var c=a(j(this).transErrorBlock,this);a("li."+b,c).remove(),0===a("li",c).length&&c.hide()}function j(b){return a.data(b,"vvPromoTransportationCars")}a.vvPromoTransportationCars={defaults:{transSubcategorySelector:".x-trans-subcategory-selector",transBrandSelector:".x-trans-brand-selector",transModelSelector:".x-trans-model-selector",transYearSelector:".x-trans-year-selector",transStep1Btn:".x-trans-step1-btn",transStep2Btn:".x-trans-step2-btn",transOrderBtn:".x-trans-order-btn",transErrorBlock:".x-trans-error-block",transStep1Block:".x-trans-step1-block",transStep2Block:".x-trans-step2-block",transName:".x-trans-name",transEmail:".x-trans-email",transPhone:".x-trans-phone",transForm:".x-trans-form",transCommentTextarea:".x-trans-comment-textarea",transCommentInfo:".x-trans-comment-info",transCompanySlider:".x-trans-company-slider",transCompanySliderControls:".x-trans-company-slider-controls",formBtn:".x-promo-btn",input:".x-input",transModelsLink:"auto/models_list"},messages:{}},a.fn.extend({vvPromoTransportationCars:function(h){return this.each(function(){var i=this;h=a.extend({},a.vvPromoTransportationCars.defaults,h),a.data(this,"vvPromoTransportationCars",h);try{a(h.transSubcategorySelector,this).msDropDown({mainCSS:"dd2",indent:6}),a(h.transBrandSelector,this).msDropDown({mainCSS:"dd2",indent:6}),a(h.transModelSelector,this).msDropDown({mainCSS:"dd2",indent:6}),a(h.transYearSelector,this).msDropDown({mainCSS:"dd2",indent:6})}catch(j){}a(h.transCompanySlider,this).anythingSlider({mode:"f",expand:!0,enableArrows:!1,enableNavigation:!1,enableStartStop:!1,enableKeyboard:!1,buildNavigation:!1,toggleControls:!1,buildArrows:!1,buildStartStop:!1,resizeContents:!1,hashTags:!1,animationTime:500,delay:6e3,autoPlay:!0}),a(h.transPhone).mask("+7 999 999-99-99"),a(h.transBrandSelector).change(function(){d.call(i)}),a(h.transStep1Btn,this).click(function(){return e.call(i),!1}),a(h.transStep2Btn,this).click(function(){return f.call(i),!1}),a(h.transOrderBtn,this).click(function(){return a(h.transForm,i).valid()&&b.call(i),!1}),a(h.transCommentTextarea,this).focus(function(){a(h.transCommentInfo,i).hide()}).blur(function(){""===a(this).val()&&a(h.transCommentInfo,i).show()}),a(h.transCompanySliderControls,this).click(function(){return c.call(i,a(this)),!1}),g.call(i),a(".x-promo-country").vvPromoCountry()})}})}(jQuery),function(a){function b(b){var c=b.parent(),f=c.parent().find(".x-select-country-block"),g=f.find("select"),h="dd2 "+(g.data("dd-class")||"");c.addClass("hidden"),f.removeClass("hidden"),a("option",g).length<=1&&(d.call(this,g),g.msDropDown({mainCSS:h,indent:6}).data("dd").visible(!1),e.call(this,g));try{g.data("dd").visible(!0)}catch(i){}}function c(b){var c=b.parent(),d=c.parent().parent().find(".x-country"),e=b.data("dd");c.addClass("hidden");try{e&&e.visible(!1)}catch(f){}d.removeClass("hidden"),a("span",d).text(a("option:selected",b).text())}function d(b,c){var d=get_countries();b.each(function(){var b=a(this);b.empty(),a.each(d,function(a,c){b.append('<option value="'+c.id+'">'+c.name+"</option>")}),c&&a('option[value="'+c+'"]',b).attr("selected","selected")})}function e(a){var b=a.data("dd");b.addMyEvent("onOpen",function(){a.attr("id")})}a.vvPromoCountry={},a.fn.extend({vvPromoCountry:function(d){return this.each(function(){var d=this;a(".x-country a",this).click(function(){return b.call(d,a(this)),!1}),a(".x-select-country",this).change(function(){c.call(d,a(this))})})}})}(jQuery),$.fn.serializeObject=function(){var a={},b=this.serializeArray();return $.each(b,function(){void 0!==a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""}),a},function(a){function b(b){return a.data(b,"vvStats")}function c(){a.ajax({url:"/stats/get_stats",type:"POST",traditional:!0,context:this,dataType:"json",success:function(a){f.call(this,parseInt(a.drivers_count)),g.call(this,parseInt(a.merchants_count)),h.call(this,parseInt(a.orders_count)),i.call(this,parseInt(a.money_total))}})}function d(){var b=this;a.ajax({url:"/stats/get_eco_stats",type:"POST",traditional:!0,context:this,dataType:"json",success:function(a){e.call(b,a)}})}function e(c){var d=Math.ceil(864e5/b(this).so2Day)/300,e=d/2,f=c.co2-Math.floor(10*Math.random()),g=c.so2-Math.floor(10*Math.random()),h=c.co2,i=c.so2;k.call(this,a(".x-meter-co2"),f,h,e),k.call(this,a(".x-meter-so2"),g,i,d),l.call(this,a(".x-meter2-co2"),f,h,e),l.call(this,a(".x-meter2-so2"),g,i,d)}function f(b){b&&a.vvStats.driversCount!=b&&(null==a.vvStats.driversCount&&(a.vvStats.driversCount=b-Math.floor(10*Math.random())),j.call(this,a(".x-meter-drivers"),a.vvStats.driversCount,b),a.vvStats.driversCount=b)}function g(b){b&&a.vvStats.merchantsCount!=b&&(null==a.vvStats.merchantsCount&&(a.vvStats.merchantsCount=b-Math.floor(10*Math.random())),j.call(this,a(".x-meter-merchants"),a.vvStats.merchantsCount,b),a.vvStats.merchantsCount=b)}function h(b){b&&a.vvStats.ordersCount!=b&&(null==a.vvStats.ordersCount&&(a.vvStats.ordersCount=b-Math.floor(10*Math.random())),j.call(this,a(".x-meter-orders"),"0"+a.vvStats.ordersCount,b),a.vvStats.ordersCount=b)}function i(b){b&&a.vvStats.moneyTotal!=b&&(null==a.vvStats.moneyTotal&&(a.vvStats.moneyTotal=b-Math.floor(10*Math.random())),j.call(this,a(".x-meter-money"),a.vvStats.moneyTotal,b),a.vvStats.moneyTotal=b)}function j(a,b,c){a.jOdometer({increment:1,counterStart:b,counterEnd:c,easing:"linear",speed:500,numbersImage:"/assets/images/v2/meter2.png",formatNumber:3,offsetRight:-5,spaceNumbers:5,heightNumber:50,widthDot:0,widthNumber:30})}function k(a,b,c,d){a.jOdometer({increment:1,counterEnd:c,counterStart:b,easing:"linear",speed:d,numbersImage:"/assets/images/v2/meter_eco.png",formatNumber:3,offsetRight:-5,spaceNumbers:5,heightNumber:50,widthDot:0,widthNumber:30})}function l(a,b,c,d){a.jOdometer({increment:1,counterEnd:c,counterStart:b,easing:"linear",speed:d,numbersImage:"/assets/images/v2/meter_eco4.png",formatNumber:!0,spaceNumbers:3,widthDot:10,heightNumber:40,widthNumber:25})}a.vvStats={driversCount:null,ordersCount:null,moneyTotal:null,defaults:{ecoStartDate:null,co2Start:1110117,co2Day:1074,so2Start:1130125,so2Day:310}},a.fn.extend({vvStats:function(b){return this.each(function(){b=a.extend({},a.vvStats.defaults,b);var e=new Date;e.setFullYear(2012,4,1),b.ecoStartDate=e,a.data(this,"vvStats",b);var f=this;c.call(f),a.vvStats.timeout=setTimeout(function(){c.call(this)},1e4),d.call(f)})}})}(jQuery),function($){function setAutocomplete(a){var b=this;a.each(function(){var a=$(this),c=a.data("ac-list-format"),d=a.data("ac-select-format"),e=getEntityByInput.call(b,a),f=getSuggestLinkByEntity.call(b,e);a.autocomplete({autoFocus:!0,source:function(d,g){var h=getRelatedDataByInput.call(b,a),i=$.extend({q:d.term},h);$.ajax({url:f,data:i,type:"post",dataType:"json",success:function(a){g(formatListData.call(b,a,e,c))}})},select:function(c,f){selectItem.call(b,a,c,f,e,d)},open:function(){openList.call(b,$(this))},close:function(){closeList.call(b,$(this))},minLength:2})})}function getRelatedDataByInput(a){var b=this,c=a.data("ac-related"),d=a.data("ac-related-data")||{},e="";return c&&$.isEmptyObject(d)&&($.each(c.toString().split(","),function(a,b){e+="[data-ac-related-id="+b+"],"}),$(e.replace(/,$/,""),b).each(function(){var a=$(this),b=a.data("ac-related-name")||a.attr("name");d[b]=parseInt(a.data("ac-item-id"))||a.val()}),a.data("ac-related-data",d)),d}function formatListData(data,acEntity,acListFormat){try{var formatFunc=eval("formatList"+acEntity.ucFirst()+"Item");$.map(data,function(a){return formatFunc(a,acListFormat)})}catch(e){}return data}function formatListCityItem(a,b){var c;switch(c=a.region+(a.area?a.region?" ("+a.area+")":a.area:""),c=(c?c+", ":"")+a.name,b){default:a.label=c,a.value=a.name;break;case"fullValue":a.label=c,a.value=c}return a}function formatListRegionItem(a,b){switch(b){default:a.label=(a.country?a.country+", ":"")+a.name,a.value=a.name}return a}function formatListStreetItem(a,b){switch(b){default:a.label=a.name,a.value=a.name}return a}function selectItem(a,b,c,d,e){setResultData.call(this,a,c.item.label,c.item.id)}function setResultData(a,b,c){var d=a.parent();a.data("ac-item-id",c||""),d.find($(settings(this).resultRawInput)).val(b||a.val()),d.find($(settings(this).resultIdInput)).val(c||""),c&&a.trigger("ac.select.id"),a.trigger("ac.select")}function getEntityByInput(a){return a.is(settings(this).acStreetInput)?"street":a.is(settings(this).acCityInput)?"city":a.is(settings(this).acRegionInput)?"region":a.is(settings(this).acCountryInput)?"country":""}function openList(a){}function closeList(a){}function getSuggestLinkByEntity(a){return settings(this)["suggest"+a.ucFirst()+"Link"]}function settings(a){return $.data(a,"vvAutocomplete")}$.vvAutocomplete={defaults:{acInput:".x-ac-input",acRelatedSelector:".x-ac-related",acStreetInput:"input.x-ac-street",acCityInput:"input.x-ac-city",acRegionInput:"input.x-ac-region",acCountryInput:"input.x-ac-country",resultRawInput:"input.x-ac-result-raw",resultIdInput:"input.x-ac-result-id",suggestCountryLink:"/location/suggest_country",suggestRegionLink:"/location/suggest_region",suggestCityLink:"/location/suggest_city",suggestStreetLink:"/location/suggest_street",clearCacheOnChange:!0}},$.fn.extend({vvAutocomplete:function(a){return this.each(function(){a=$.extend({},$.vvAutocomplete.defaults,a),$.data(this,"vvAutocomplete",a);var b=this;setAutocomplete.call(b,$(a.acInput,b)),$(a.acRelatedSelector,b).bind("change ac.select.id",function(){var b=$("[data-ac-related*="+$(this).data("ac-related-id")+"]");a.clearCacheOnChange&&b.data("ac-related-data",null).val("").trigger("change")}),$(a.acInput,b).change(function(){setResultData.call(b,$(this))})})}})}(jQuery),String.prototype.ucFirst=function(){var a=this;return a.length&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a},function(){function a(a){function b(b,d){var f,o,p=b==window,q=d&&void 0!==d.message?d.message:void 0;if(d=a.extend({},a.blockUI.defaults,d||{}),!d.ignoreIfBlocked||!a(b).data("blockUI.isBlocked")){if(d.overlayCSS=a.extend({},a.blockUI.defaults.overlayCSS,d.overlayCSS||{}),f=a.extend({},a.blockUI.defaults.css,d.css||{}),d.onOverlayClick&&(d.overlayCSS.cursor="pointer"),o=a.extend({},a.blockUI.defaults.themedCSS,d.themedCSS||{}),q=void 0===q?d.message:q,p&&m&&c(window,{fadeOut:0}),q&&"string"!=typeof q&&(q.parentNode||q.jquery)){var r=q.jquery?q[0]:q,s={};a(b).data("blockUI.history",s),s.el=r,s.parent=r.parentNode,s.display=r.style.display,s.position=r.style.position,s.parent&&s.parent.removeChild(r)}a(b).data("blockUI.onUnblock",d.onUnblock);var t,s=d.baseZ;t=a(j||d.forceIframe?'<iframe class="blockUI" style="z-index:'+s++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+d.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),r=a(d.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+s++ +';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+s++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),d.theme&&p?(s='<div class="blockUI '+d.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(s+10)+';display:none;position:fixed">',d.title&&(s+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(d.title||"&nbsp;")+"</div>"),s+='<div class="ui-widget-content ui-dialog-content"></div></div>'):d.theme?(s='<div class="blockUI '+d.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(s+10)+';display:none;position:absolute">',d.title&&(s+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(d.title||"&nbsp;")+"</div>"),s+='<div class="ui-widget-content ui-dialog-content"></div>',s+="</div>"):s=p?'<div class="blockUI '+d.blockMsgClass+' blockPage" style="z-index:'+(s+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+d.blockMsgClass+' blockElement" style="z-index:'+(s+10)+';display:none;position:absolute"></div>',s=a(s),q&&(d.theme?(s.css(o),s.addClass("ui-widget-content")):s.css(f)),d.theme||r.css(d.overlayCSS),r.css("position",p?"fixed":"absolute"),(j||d.forceIframe)&&t.css("opacity",0),f=[t,r,s];var u=a(p?"body":b);if(a.each(f,function(){this.appendTo(u)}),d.theme&&d.draggable&&a.fn.draggable&&s.draggable({handle:".ui-dialog-titlebar",cancel:"li"}),o=l&&(!a.support.boxModel||0<a("object,embed",p?null:b).length),k||o){if(p&&d.allowBodyStretch&&a.support.boxModel&&a("html,body").css("height","100%"),(k||!a.support.boxModel)&&!p){o=parseInt(a.css(b,"borderTopWidth"),10)||0;var v=parseInt(a.css(b,"borderLeftWidth"),10)||0,w=o?"(0 - "+o+")":0,x=v?"(0 - "+v+")":0}a.each(f,function(a,b){var c=b[0].style;if(c.position="absolute",2>a)p?c.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+d.quirksmodeOffsetHack+') + "px"'):c.setExpression("height",'this.parentNode.offsetHeight + "px"'),p?c.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):c.setExpression("width",'this.parentNode.offsetWidth + "px"'),x&&c.setExpression("left",x),w&&c.setExpression("top",w);else if(d.centerY)p&&c.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),c.marginTop=0;else if(!d.centerY&&p){var e="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(d.css&&d.css.top?parseInt(d.css.top,10):0)+') + "px"';c.setExpression("top",e)}})}q&&(d.theme?s.find(".ui-widget-content").append(q):s.append(q),(q.jquery||q.nodeType)&&a(q).show()),(j||d.forceIframe)&&d.showOverlay&&t.show(),d.fadeIn?(f=d.onBlock?d.onBlock:i,t=d.showOverlay&&!q?f:i,f=q?f:i,d.showOverlay&&r._fadeIn(d.fadeIn,t),q&&s._fadeIn(d.fadeIn,f)):(d.showOverlay&&r.show(),q&&s.show(),d.onBlock&&d.onBlock()),e(1,b,d),p?(m=s[0],n=a(d.focusableElements,m),d.focusInput&&setTimeout(g,20)):h(s[0],d.centerX,d.centerY),d.timeout&&(q=setTimeout(function(){p?a.unblockUI(d):a(b).unblock(d)},d.timeout),a(b).data("blockUI.timeout",q))}}function c(b,c){var f,g=b==window,h=a(b),i=h.data("blockUI.history"),j=h.data("blockUI.timeout");j&&(clearTimeout(j),h.removeData("blockUI.timeout")),c=a.extend({},a.blockUI.defaults,c||{}),e(0,b,c),null===c.onUnblock&&(c.onUnblock=h.data("blockUI.onUnblock"),h.removeData("blockUI.onUnblock"));var k;k=g?a("body").children().filter(".blockUI").add("body > .blockUI"):h.find(">.blockUI"),c.cursorReset&&(1<k.length&&(k[1].style.cursor=c.cursorReset),2<k.length&&(k[2].style.cursor=c.cursorReset)),g&&(m=n=null),c.fadeOut?(f=k.length,k.stop().fadeOut(c.fadeOut,function(){0===--f&&d(k,i,c,b)})):d(k,i,c,b)}function d(b,c,d,e){var f=a(e);f.data("blockUI.isBlocked")||(b.each(function(a,b){this.parentNode&&this.parentNode.removeChild(this)}),c&&c.el&&(c.el.style.display=c.display,c.el.style.position=c.position,c.parent&&c.parent.appendChild(c.el),f.removeData("blockUI.history")),f.data("blockUI.static")&&f.css("position","static"),"function"==typeof d.onUnblock&&d.onUnblock(e,d),b=a(document.body),c=b.width(),d=b[0].style.width,b.width(c-1).width(c),b[0].style.width=d)}function e(b,c,d){var e=c==window;c=a(c),(b||(!e||m)&&(e||c.data("blockUI.isBlocked")))&&(c.data("blockUI.isBlocked",b),e&&d.bindEvents&&(!b||d.showOverlay)&&(b?a(document).bind("mousedown mouseup keydown keypress keyup touchstart touchend touchmove",d,f):a(document).unbind("mousedown mouseup keydown keypress keyup touchstart touchend touchmove",f)))}function f(b){if("keydown"===b.type&&b.keyCode&&9==b.keyCode&&m&&b.data.constrainTabKey){var c=n,d=b.shiftKey&&b.target===c[0];if(!b.shiftKey&&b.target===c[c.length-1]||d)return setTimeout(function(){g(d)},10),!1}var c=b.data,e=a(b.target);return e.hasClass("blockOverlay")&&c.onOverlayClick&&c.onOverlayClick(b),0<e.parents("div."+c.blockMsgClass).length?!0:0===e.parents().children().filter("div.blockUI").length}function g(a){n&&(a=n[!0===a?n.length-1:0])&&a.focus()}function h(b,c,d){var e=b.parentNode,f=b.style,g=(e.offsetWidth-b.offsetWidth)/2-(parseInt(a.css(e,"borderLeftWidth"),10)||0);b=(e.offsetHeight-b.offsetHeight)/2-(parseInt(a.css(e,"borderTopWidth"),10)||0),c&&(f.left=g>0?g+"px":"0"),d&&(f.top=b>0?b+"px":"0")}a.fn._fadeIn=a.fn.fadeIn;var i=a.noop||function(){},j=/MSIE/.test(navigator.userAgent),k=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),l=a.isFunction(document.createElement("div").style.setExpression);a.blockUI=function(a){b(window,a)},a.unblockUI=function(a){c(window,a)},a.growlUI=function(b,c,d,e){var f=a('<div class="growlUI"></div>');b&&f.append("<h1>"+b+"</h1>"),c&&f.append("<h2>"+c+"</h2>"),void 0===d&&(d=3e3);var g=function(b){b=b||{},a.blockUI({message:f,fadeIn:"undefined"!=typeof b.fadeIn?b.fadeIn:700,fadeOut:"undefined"!=typeof b.fadeOut?b.fadeOut:1e3,timeout:"undefined"!=typeof b.timeout?b.timeout:d,centerY:!1,showOverlay:!1,onUnblock:e,css:a.blockUI.defaults.growlCSS})};g(),f.css("opacity"),f.mouseover(function(){g({fadeIn:0,timeout:3e4});var b=a(".blockMsg");b.stop(),b.fadeTo(300,1)}).mouseout(function(){a(".blockMsg").fadeOut(1e3)})},a.fn.block=function(c){if(this[0]===window)return a.blockUI(c),this;var d=a.extend({},a.blockUI.defaults,c||{});return this.each(function(){var b=a(this);d.ignoreIfBlocked&&b.data("blockUI.isBlocked")||b.unblock({fadeOut:0})}),this.each(function(){"static"==a.css(this,"position")&&(this.style.position="relative",a(this).data("blockUI.static",!0)),this.style.zoom=1,b(this,c)})},a.fn.unblock=function(b){return this[0]===window?(a.unblockUI(b),this):this.each(function(){c(this,b)})},a.blockUI.version=2.66,a.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var m=null,n=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a(jQuery)}(),function(a){a.fn.extend({vvDisable:function(b){return this.each(function(){a(this).attr("disabled","disabled"),a(this).addClass("disabled")})},vvEnable:function(b){return this.each(function(){a(this).removeAttr("disabled"),a(this).removeClass("disabled")})}})}(jQuery),function(a){function b(a){return"object"==typeof a?a:{top:a,left:a}}var c=a.scrollTo=function(b,c,d){a(window).scrollTo(b,c,d)};c.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1,limit:!0},c.window=function(b){return a(window)._scrollable()},a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||-1!=a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!c)return b;var d=(b.contentWindow||b).document||b.ownerDocument||b;return/webkit/i.test(navigator.userAgent)||"BackCompat"==d.compatMode?d.body:d.documentElement})},a.fn.scrollTo=function(d,e,f){return"object"==typeof e&&(f=e,e=0),"function"==typeof f&&(f={onAfter:f}),"max"==d&&(d=9e9),f=a.extend({},c.defaults,f),e=e||f.duration,f.queue=f.queue&&f.axis.length>1,f.queue&&(e/=2),f.offset=b(f.offset),f.over=b(f.over),this._scrollable().each(function(){function g(a){j.animate(l,e,f.easing,a&&function(){a.call(this,d,f)})}if(null!=d){var h,i=this,j=a(i),k=d,l={},m=j.is("html,body");switch(typeof k){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(k)){k=b(k);break}if(k=a(k,this),!k.length)return;case"object":(k.is||k.style)&&(h=(k=a(k)).offset())}a.each(f.axis.split(""),function(a,b){var d="x"==b?"Left":"Top",e=d.toLowerCase(),n="scroll"+d,o=i[n],p=c.max(i,b);if(h)l[n]=h[e]+(m?0:o-j.offset()[e]),f.margin&&(l[n]-=parseInt(k.css("margin"+d))||0,l[n]-=parseInt(k.css("border"+d+"Width"))||0),l[n]+=f.offset[e]||0,f.over[e]&&(l[n]+=k["x"==b?"width":"height"]()*f.over[e]);else{var q=k[e];l[n]=q.slice&&"%"==q.slice(-1)?parseFloat(q)/100*p:q}f.limit&&/^\d+$/.test(l[n])&&(l[n]=l[n]<=0?0:Math.min(l[n],p)),!a&&f.queue&&(o!=l[n]&&g(f.onAfterFirst),delete l[n])}),g(f.onAfter)}}).end()},c.max=function(b,c){var d="x"==c?"Width":"Height",e="scroll"+d;if(!a(b).is("html,body"))return b[e]-a(b)[d.toLowerCase()]();var f="client"+d,g=b.ownerDocument.documentElement,h=b.ownerDocument.body;return Math.max(g[e],h[e])-Math.min(g[f],h[f])}}(jQuery);var checkboxHeight="25",radioHeight="25",selectWidth="287";document.write('<style type="text/css">input.styled { display: none; } select.styled { position: relative; width: '+selectWidth+"px; opacity: 0; filter: alpha(opacity=0); z-index: 5; } .disabled { opacity: 0.5; filter: alpha(opacity=50); }</style>");var Custom={init:function(){function c(a,b){return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))}var d,e,f,g=document.getElementsByTagName("input"),h=Array();for(a=0;a<g.length;a++)if(("checkbox"==g[a].type||"radio"==g[a].type)&&c(g[a],"styled")){if(h[a]=document.createElement("span"),h[a].className=g[a].type,$(g[a]).hasClass("x-el-styled"))continue;$(g[a]).addClass("x-el-styled"),1==g[a].checked&&("checkbox"==g[a].type?(position="0 -"+2*checkboxHeight+"px",h[a].style.backgroundPosition=position):(position="0 -"+2*radioHeight+"px",
h[a].style.backgroundPosition=position)),g[a].parentNode.insertBefore(h[a],g[a]),g[a].onchange=Custom.clear,g[a].getAttribute("disabled")?h[a].className=h[a].className+=" disabled":(h[a].onmousedown=Custom.pushed,h[a].onmouseup=Custom.check)}for(g=document.getElementsByTagName("select"),a=0;a<g.length;a++)if(c(g[a],"styled")){for(e=g[a].getElementsByTagName("option"),f=e[0].childNodes[0].nodeValue,d=document.createTextNode(f),b=0;b<e.length;b++)1==e[b].selected&&(d=document.createTextNode(e[b].childNodes[0].nodeValue));h[a]=document.createElement("span"),h[a].className="select",h[a].id="select"+g[a].name,h[a].appendChild(d),g[a].parentNode.insertBefore(h[a],g[a]),g[a].getAttribute("disabled")?g[a].previousSibling.className=g[a].previousSibling.className+=" disabled":g[a].onchange=Custom.choose}document.onmouseup=Custom.clear},pushed:function(){element=this.nextSibling,1==element.checked&&"checkbox"==element.type?this.style.backgroundPosition="0 -"+3*checkboxHeight+"px":1==element.checked&&"radio"==element.type?this.style.backgroundPosition="0 -"+3*radioHeight+"px":1!=element.checked&&"checkbox"==element.type?this.style.backgroundPosition="0 -"+checkboxHeight+"px":this.style.backgroundPosition="0 -"+radioHeight+"px"},check:function(){if(element=this.nextSibling,1==element.checked&&"checkbox"==element.type)this.style.backgroundPosition="0 0",element.checked=!1;else{if("checkbox"==element.type)this.style.backgroundPosition="0 -"+2*checkboxHeight+"px";else for(this.style.backgroundPosition="0 -"+2*radioHeight+"px",group=this.nextSibling.name,inputs=document.getElementsByTagName("input"),a=0;a<inputs.length;a++)inputs[a].name==group&&inputs[a]!=this.nextSibling&&(inputs[a].previousSibling.style.backgroundPosition="0 0");element.checked=!0}},clear:function(){inputs=document.getElementsByTagName("input");for(var a=0;a<inputs.length;a++)"checkbox"==inputs[a].type&&1==inputs[a].checked&&hasClass(inputs[a],"styled")?inputs[a].previousSibling.style.backgroundPosition="0 -"+2*checkboxHeight+"px":"checkbox"==inputs[a].type&&hasClass(inputs[a],"styled")?inputs[a].previousSibling.style.backgroundPosition="0 0":"radio"==inputs[a].type&&1==inputs[a].checked&&hasClass(inputs[a],"styled")?inputs[a].previousSibling.style.backgroundPosition="0 -"+2*radioHeight+"px":"radio"==inputs[a].type&&hasClass(inputs[a],"styled")&&(inputs[a].previousSibling.style.backgroundPosition="0 0")},choose:function(){for(option=this.getElementsByTagName("option"),d=0;d<option.length;d++)1==option[d].selected&&(document.getElementById("select"+this.name).childNodes[0].nodeValue=option[d].childNodes[0].nodeValue)}};window.onload=Custom.init,function(a){function b(){var a=document.createElement("input"),b="onpaste";return a.setAttribute(b,""),"function"==typeof a[b]?"paste":"input"}var c,d=b()+".mask",e=navigator.userAgent,f=/iphone/i.test(e),g=/android/i.test(e);a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},a.fn.extend({caret:function(a,b){var c;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof a?(b="number"==typeof b?b:a,this.each(function(){this.setSelectionRange?this.setSelectionRange(a,b):this.createTextRange&&(c=this.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())})):(this[0].setSelectionRange?(a=this[0].selectionStart,b=this[0].selectionEnd):document.selection&&document.selection.createRange&&(c=document.selection.createRange(),a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length),{begin:a,end:b})},unmask:function(){return this.trigger("unmask")},mask:function(b,e){var h,i,j,k,l,m;return!b&&this.length>0?(h=a(this[0]),h.data(a.mask.dataName)()):(e=a.extend({placeholder:a.mask.placeholder,completed:null},e),i=a.mask.definitions,j=[],k=m=b.length,l=null,a.each(b.split(""),function(a,b){"?"==b?(m--,k=a):i[b]?(j.push(RegExp(i[b])),null===l&&(l=j.length-1)):j.push(null)}),this.trigger("unmask").each(function(){function h(a){for(;m>++a&&!j[a];);return a}function n(a){for(;--a>=0&&!j[a];);return a}function o(a,b){var c,d;if(!(0>a)){for(c=a,d=h(b);m>c;c++)if(j[c]){if(!(m>d&&j[c].test(w[d])))break;w[c]=w[d],w[d]=e.placeholder,d=h(d)}t(),v.caret(Math.max(l,a))}}function p(a){var b,c,d,f;for(b=a,c=e.placeholder;m>b;b++)if(j[b]){if(d=h(b),f=w[b],w[b]=c,!(m>d&&j[d].test(f)))break;c=f}}function q(a){var b,c,d,e=a.which;8===e||46===e||f&&127===e?(b=v.caret(),c=b.begin,d=b.end,0===d-c&&(c=46!==e?n(c):d=h(c-1),d=46===e?h(d):d),s(c,d),o(c,d-1),a.preventDefault()):27==e&&(v.val(x),v.caret(0,u()),a.preventDefault())}function r(b){var c,d,f,i=b.which,k=v.caret();b.ctrlKey||b.altKey||b.metaKey||32>i||i&&(0!==k.end-k.begin&&(s(k.begin,k.end),o(k.begin,k.end-1)),c=h(k.begin-1),m>c&&(d=String.fromCharCode(i),j[c].test(d)&&(p(c),w[c]=d,t(),f=h(c),g?setTimeout(a.proxy(a.fn.caret,v,f),0):v.caret(f),e.completed&&f>=m&&e.completed.call(v))),b.preventDefault())}function s(a,b){var c;for(c=a;b>c&&m>c;c++)j[c]&&(w[c]=e.placeholder)}function t(){v.val(w.join(""))}function u(a){var b,c,d=v.val(),f=-1;for(b=0,pos=0;m>b;b++)if(j[b]){for(w[b]=e.placeholder;pos++<d.length;)if(c=d.charAt(pos-1),j[b].test(c)){w[b]=c,f=b;break}if(pos>d.length)break}else w[b]===d.charAt(pos)&&b!==k&&(pos++,f=b);return a?t():k>f+1?(v.val(""),s(0,m)):(t(),v.val(v.val().substring(0,f+1))),k?b:l}var v=a(this),w=a.map(b.split(""),function(a){return"?"!=a?i[a]?e.placeholder:a:void 0}),x=v.val();v.data(a.mask.dataName,function(){return a.map(w,function(a,b){return j[b]&&a!=e.placeholder?a:null}).join("")}),v.attr("readonly")||v.one("unmask",function(){v.unbind(".mask").removeData(a.mask.dataName)}).bind("focus.mask",function(){clearTimeout(c);var a;x=v.val(),a=u(),c=setTimeout(function(){t(),a==b.length?v.caret(0,a):v.caret(a)},10)}).bind("blur.mask",function(){u(),v.val()!=x&&v.change()}).bind("keydown.mask",q).bind("keypress.mask",r).bind(d,function(){setTimeout(function(){var a=u(!0);v.caret(a),e.completed&&a==v.val().length&&e.completed.call(v)},0)}),u()}))}})}(jQuery),function(a,b){function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(this._defaults,this.regional[""]),this.dpDiv=d(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.delegate(c,"mouseout",function(){a(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate(c,"mouseover",function(){a.datepicker._isDisabledDatepicker(f.inline?b.parent()[0]:f.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function e(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}a.extend(a.ui,{datepicker:{version:"1.10.3"}});var f,g="datepicker";a.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return e(this._defaults,a||{}),this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase(),e="div"===d||"span"===d,b.id||(this.uuid+=1,b.id="dp"+this.uuid),f=this._newInst(a(b),e),f.settings=a.extend({},c||{}),"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,c){var e=b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:e,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?d(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]),c.trigger=a([]),d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(c),a.data(b,g,c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove(),g&&(c.append=a("<span class='"+this._appendClass+"'>"+g+"</span>"),b[h?"before":"after"](c.append)),b.unbind("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),("focus"===d||"both"===d)&&b.focus(this._showDatepicker),("button"===d||"both"===d)&&(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type='button'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:e,title:e}):e)),b[h?"before":"after"](c.trigger),c.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;a.length>e;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,g,c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,f,h){var i,j,k,l,m,n=this._dialogInst;return n||(this.uuid+=1,i="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+i+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),n=this._dialogInst=this._newInst(this._dialogInput,!1),n.settings={},a.data(this._dialogInput[0],g,n)),e(n.settings,f||{}),c=c&&c.constructor===Date?this._formatDate(n,c):c,this._dialogInput.val(c),this._pos=h?h.length?h:[h.pageX,h.pageY]:null,this._pos||(j=document.documentElement.clientWidth,k=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,m=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[j/2-100+l,k/2-150+m]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),n.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],g,n),this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,g);d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,g),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===c||"span"===c)&&d.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;this._disabledInputs.length>b;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,g)}catch(c){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(c,d,f){var g,h,i,j,k=this._getInst(c);return 2===arguments.length&&"string"==typeof d?"defaults"===d?a.extend({},a.datepicker._defaults):k?"all"===d?a.extend({},k.settings):this._get(k,d):null:(g=d||{},"string"==typeof d&&(g={},g[d]=f),k&&(this._curInst===k&&this._hideDatepicker(),h=this._getDateDatepicker(c,!0),i=this._getMinMaxDate(k,"min"),j=this._getMinMaxDate(k,"max"),e(k.settings,g),null!==i&&g.dateFormat!==b&&g.minDate===b&&(k.settings.minDate=this._formatDate(k,i)),null!==j&&g.dateFormat!==b&&g.maxDate===b&&(k.settings.maxDate=this._formatDate(k,j)),"disabled"in g&&(g.disabled?this._disableDatepicker(c):this._enableDatepicker(c)),this._attachments(a(c),k),this._autoSize(k),this._setDate(k,h),this._updateAlternate(k),this._updateDatepicker(k)),b)},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),c=a.datepicker._get(f,"onSelect"),c?(d=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?1:-1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D"),g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?-1:1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D"),g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(c){var d,e,f=a.datepicker._getInst(c.target);return a.datepicker._get(f,"constrainInput")?(d=a.datepicker._possibleChars(a.datepicker._get(f,"dateFormat")),e=String.fromCharCode(null==c.charCode?c.keyCode:c.charCode),c.ctrlKey||c.metaKey||" ">e||!d||d.indexOf(e)>-1):b},_doKeyUp:function(b){var c,d=a.datepicker._getInst(b.target);if(d.input.val()!==d.lastVal)try{c=a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,a.datepicker._getFormatConfig(d)),c&&(a.datepicker._setDateFromField(d),a.datepicker._updateAlternate(d),a.datepicker._updateDatepicker(d))}catch(e){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var c,d,f,g,h,i,j;c=a.datepicker._getInst(b),a.datepicker._curInst&&a.datepicker._curInst!==c&&(a.datepicker._curInst.dpDiv.stop(!0,!0),c&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),d=a.datepicker._get(c,"beforeShow"),f=d?d.apply(b,[b,c]):{},f!==!1&&(e(c.settings,f),c.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(c),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),g=!1,a(b).parents().each(function(){return g|="fixed"===a(this).css("position"),!g}),h={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(c),h=a.datepicker._checkOffset(c,h,g),c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":g?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),c.inline||(i=a.datepicker._get(c,"showAnim"),j=a.datepicker._get(c,"duration"),c.dpDiv.zIndex(a(b).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[i]?c.dpDiv.show(i,a.datepicker._get(c,"showOptions"),j):c.dpDiv[i||"show"](i?j:null),a.datepicker._shouldFocusInput(c)&&c.input.focus(),a.datepicker._curInst=c))}},_updateDatepicker:function(b){this.maxRows=4,f=b,b.dpDiv.empty().append(this._generateHTML(b)),this._attachHandlers(b),b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var c,d=this._getNumberOfMonths(b),e=d[1],g=17;b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",g*e+"em"),b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus(),b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml),c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0),c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0),c},_findPos:function(b){for(var c,d=this._getInst(b),e=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,h=this._curInst;!h||b&&h!==a.data(b,g)||this._datepickerShowing&&(c=this._get(h,"showAnim"),d=this._get(h,"duration"),e=function(){a.datepicker._tidyDialog(h)},a.effects&&(a.effects.effect[c]||a.effects[c])?h.dpDiv.hide(c,a.datepicker._get(h,"showOptions"),d,e):h.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(h,"onClose"),f&&f.apply(h.input?h.input[0]:null,[h.input?h.input.val():"",h]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){var c=a(b.target),d=a.datepicker._getInst(c[0]);(c[0].id!==a.datepicker._mainDivId&&0===c.parents("#"+a.datepicker._mainDivId).length&&!c.hasClass(a.datepicker.markerClassName)&&!c.closest("."+a.datepicker._triggerClass).length&&a.datepicker._datepickerShowing&&(!a.datepicker._inDialog||!a.blockUI)||c.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==d)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear()),this._notifyChange(e),this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10),this._notifyChange(f),this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=a("a",e).html(),f.selectedMonth=f.currentMonth=c,f.selectedYear=f.currentYear=d,this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=null!=c?c:this._formatDate(f),f.input&&f.input.val(c),this._updateAlternate(f),d=this._get(f,"onSelect"),d?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change"),f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");f&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(c,d,this._getFormatConfig(b)),a(f).each(function(){a(this).val(e)}))},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(c,d,e){if(null==c||null==d)throw"Invalid arguments";if(d="object"==typeof d?""+d:d+"",""===d)return null;var f,g,h,i,j=0,k=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof k?k:(new Date).getFullYear()%100+parseInt(k,10),m=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,n=(e?e.dayNames:null)||this._defaults.dayNames,o=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,p=(e?e.monthNames:null)||this._defaults.monthNames,q=-1,r=-1,s=-1,t=-1,u=!1,v=function(a){var b=c.length>f+1&&c.charAt(f+1)===a;return b&&f++,b},w=function(a){var b=v(a),c="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2,e=RegExp("^\\d{1,"+c+"}"),f=d.substring(j).match(e);if(!f)throw"Missing number at position "+j;return j+=f[0].length,parseInt(f[0],10)},x=function(c,e,f){var g=-1,h=a.map(v(c)?f:e,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(h,function(a,c){var e=c[1];return d.substr(j,e.length).toLowerCase()===e.toLowerCase()?(g=c[0],j+=e.length,!1):b}),-1!==g)return g+1;throw"Unknown name at position "+j},y=function(){if(d.charAt(j)!==c.charAt(f))throw"Unexpected literal at position "+j;j++};for(f=0;c.length>f;f++)if(u)"'"!==c.charAt(f)||v("'")?y():u=!1;else switch(c.charAt(f)){case"d":s=w("d");break;case"D":x("D",m,n);break;case"o":t=w("o");break;case"m":r=w("m");break;case"M":r=x("M",o,p);break;case"y":q=w("y");break;case"@":i=new Date(w("@")),q=i.getFullYear(),r=i.getMonth()+1,s=i.getDate();break;case"!":i=new Date((w("!")-this._ticksTo1970)/1e4),q=i.getFullYear(),r=i.getMonth()+1,s=i.getDate();break;case"'":v("'")?y():u=!0;break;default:y()}if(d.length>j&&(h=d.substr(j),!/^\s+/.test(h)))throw"Extra/unparsed characters found in date: "+h;if(-1===q?q=(new Date).getFullYear():100>q&&(q+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=q?0:-100)),t>-1)for(r=1,s=t;g=this._getDaysInMonth(q,r-1),!(g>=s);)r++,s-=g;if(i=this._daylightSavingAdjust(new Date(q,r-1,s)),i.getFullYear()!==q||i.getMonth()+1!==r||i.getDate()!==s)throw"Invalid date";return i},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=a.length>d+1&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;c>d.length;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;if(b)for(d=0;a.length>d;d++)if(m)"'"!==a.charAt(d)||i("'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=a.length>b+1&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;a.length>b;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,c){return a.settings[c]!==b?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(h){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var e=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,f=e.getFullYear(),g=e.getMonth(),h=e.getDate(),i=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,j=i.exec(c);j;){switch(j[2]||"d"){case"d":case"D":h+=parseInt(j[1],10);break;case"w":case"W":h+=7*parseInt(j[1],10);break;case"m":case"M":g+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g));break;case"y":case"Y":f+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g))}j=i.exec(c)}return new Date(f,g,h)},g=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return g=g&&"Invalid Date"==""+g?d:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}};a(this).bind(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,aa=a.drawYear;
if(0>_&&(_+=12,aa--),$)for(b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),b=Z&&Z>b?Z:b;this._daylightSavingAdjust(new Date(aa,_,1))>b;)_--,0>_&&(_=11,aa--);for(a.drawMonth=_,a.drawYear=aa,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(aa,_-W,1)),this._getFormatConfig(a)):c,d=this._canAdjustMonth(a,-1,aa,_)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(aa,_+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,aa,_)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;U[0]>w;w++){for(x="",this.maxRows=4,y=0;U[1]>y;y++){if(z=this._daylightSavingAdjust(new Date(aa,_,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class='ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="'>"}for(B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,_,aa,Z,$,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",v=0;7>v;v++)D=(v+k)%7,C+="<th"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+m[D]+"'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(aa,_),aa===a.selectedYear&&_===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(aa,_)-k+7)%7,G=Math.ceil((F+E)/7),H=X&&this.maxRows>G?this.maxRows:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(aa,_,1-F)),J=0;H>J;J++){for(B+="<tr>",K=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;7>v;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==_,N=M&&!s||!L[0]||Z&&Z>I||$&&I>$,K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(M&&!r||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);B+=K+"</tr>"}_++,_>11&&(_=0,aa++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q)u+="<span class='ui-datepicker-month'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",k=0;12>k;k++)(!i||k>=d.getMonth())&&(!j||e.getMonth()>=k)&&(u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p>=o;o++)a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),e=a.drawMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"===c||"Y"===c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||h>=b.getFullYear())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0),0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))},a.datepicker=new c,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.10.3"}(jQuery),jQuery(function(a){a.datepicker.regional.ru={closeText:"Закрыть",prevText:"&#x3c;Пред",nextText:"След&#x3e;",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Не",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},a.datepicker.setDefaults(a.datepicker.regional.ru)}),function(a){"use strict";function b(b){var c=b.data;b.isDefaultPrevented()||(b.preventDefault(),a(b.target).ajaxSubmit(c))}function c(b){var c=b.target,d=a(c);if(!d.is("[type=submit],[type=image]")){var e=d.closest("[type=submit]");if(0===e.length)return;c=e[0]}var f=this;if(f.clk=c,"image"==c.type)if(void 0!==b.offsetX)f.clk_x=b.offsetX,f.clk_y=b.offsetY;else if("function"==typeof a.fn.offset){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop;setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function d(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}var e={};e.fileapi=void 0!==a("<input type='file'/>").get(0).files,e.formdata=void 0!==window.FormData;var f=!!a.fn.prop;a.fn.attr2=function(){if(!f)return this.attr.apply(this,arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"==typeof a?a:this.attr.apply(this,arguments)},a.fn.ajaxSubmit=function(b){function c(c){var d,e,f=a.param(c,b.traditional).split("&"),g=f.length,h=[];for(d=0;g>d;d++)f[d]=f[d].replace(/\+/g," "),e=f[d].split("="),h.push([decodeURIComponent(e[0]),decodeURIComponent(e[1])]);return h}function g(d){for(var e=new FormData,f=0;d.length>f;f++)e.append(d[f].name,d[f].value);if(b.extraData){var g=c(b.extraData);for(f=0;g.length>f;f++)g[f]&&e.append(g[f][0],g[f][1])}b.data=null;var h=a.extend(!0,{},a.ajaxSettings,b,{contentType:!1,processData:!1,cache:!1,type:i||"POST"});b.uploadProgress&&(h.xhr=function(){var c=a.ajaxSettings.xhr();return c.upload&&c.upload.addEventListener("progress",function(a){var c=0,d=a.loaded||a.position,e=a.total;a.lengthComputable&&(c=Math.ceil(100*(d/e))),b.uploadProgress(a,d,e,c)},!1),c}),h.data=null;var j=h.beforeSend;return h.beforeSend=function(a,c){c.data=b.formData?b.formData:e,j&&j.call(this,a,c)},a.ajax(h)}function h(c){function e(a){var b=null;try{a.contentWindow&&(b=a.contentWindow.document)}catch(c){d("cannot get iframe.contentWindow document: "+c)}if(b)return b;try{b=a.contentDocument?a.contentDocument:a.document}catch(c){d("cannot get iframe.contentDocument: "+c),b=a.document}return b}function g(){function b(){try{var a=e(r).readyState;d("state = "+a),a&&"uninitialized"==a.toLowerCase()&&setTimeout(b,50)}catch(c){d("Server abort: ",c," (",c.name,")"),h(A),w&&clearTimeout(w),w=void 0}}var c=l.attr2("target"),f=l.attr2("action");x.setAttribute("target",o),(!i||/post/i.test(i))&&x.setAttribute("method","POST"),f!=m.url&&x.setAttribute("action",m.url),m.skipEncodingOverride||i&&!/post/i.test(i)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),m.timeout&&(w=setTimeout(function(){v=!0,h(z)},m.timeout));var g=[];try{if(m.extraData)for(var j in m.extraData)m.extraData.hasOwnProperty(j)&&(a.isPlainObject(m.extraData[j])&&m.extraData[j].hasOwnProperty("name")&&m.extraData[j].hasOwnProperty("value")?g.push(a('<input type="hidden" name="'+m.extraData[j].name+'">').val(m.extraData[j].value).appendTo(x)[0]):g.push(a('<input type="hidden" name="'+j+'">').val(m.extraData[j]).appendTo(x)[0]));m.iframeTarget||q.appendTo("body"),r.attachEvent?r.attachEvent("onload",h):r.addEventListener("load",h,!1),setTimeout(b,15);try{x.submit()}catch(k){var n=document.createElement("form").submit;n.apply(x)}}finally{x.setAttribute("action",f),c?x.setAttribute("target",c):l.removeAttr("target"),a(g).remove()}}function h(b){if(!s.aborted&&!F){if(E=e(r),E||(d("cannot access response document"),b=A),b===z&&s)return s.abort("timeout"),void y.reject(s,"timeout");if(b==A&&s)return s.abort("server abort"),void y.reject(s,"error","server abort");if(E&&E.location.href!=m.iframeSrc||v){r.detachEvent?r.detachEvent("onload",h):r.removeEventListener("load",h,!1);var c,f="success";try{if(v)throw"timeout";var g="xml"==m.dataType||E.XMLDocument||a.isXMLDoc(E);if(d("isXml="+g),!g&&window.opera&&(null===E.body||!E.body.innerHTML)&&--G)return d("requeing onLoad callback, DOM not available"),void setTimeout(h,250);var i=E.body?E.body:E.documentElement;s.responseText=i?i.innerHTML:null,s.responseXML=E.XMLDocument?E.XMLDocument:E,g&&(m.dataType="xml"),s.getResponseHeader=function(a){var b={"content-type":m.dataType};return b[a.toLowerCase()]},i&&(s.status=Number(i.getAttribute("status"))||s.status,s.statusText=i.getAttribute("statusText")||s.statusText);var j=(m.dataType||"").toLowerCase(),k=/(json|script|text)/.test(j);if(k||m.textarea){var l=E.getElementsByTagName("textarea")[0];if(l)s.responseText=l.value,s.status=Number(l.getAttribute("status"))||s.status,s.statusText=l.getAttribute("statusText")||s.statusText;else if(k){var o=E.getElementsByTagName("pre")[0],p=E.getElementsByTagName("body")[0];o?s.responseText=o.textContent?o.textContent:o.innerText:p&&(s.responseText=p.textContent?p.textContent:p.innerText)}}else"xml"==j&&!s.responseXML&&s.responseText&&(s.responseXML=H(s.responseText));try{D=J(s,j,m)}catch(t){f="parsererror",s.error=c=t||f}}catch(t){d("error caught: ",t),f="error",s.error=c=t||f}s.aborted&&(d("upload aborted"),f=null),s.status&&(f=s.status>=200&&300>s.status||304===s.status?"success":"error"),"success"===f?(m.success&&m.success.call(m.context,D,"success",s),y.resolve(s.responseText,"success",s),n&&a.event.trigger("ajaxSuccess",[s,m])):f&&(void 0===c&&(c=s.statusText),m.error&&m.error.call(m.context,s,f,c),y.reject(s,"error",c),n&&a.event.trigger("ajaxError",[s,m,c])),n&&a.event.trigger("ajaxComplete",[s,m]),n&&!--a.active&&a.event.trigger("ajaxStop"),m.complete&&m.complete.call(m.context,s,f),F=!0,m.timeout&&clearTimeout(w),setTimeout(function(){m.iframeTarget?q.attr("src",m.iframeSrc):q.remove(),s.responseXML=null},100)}}}var j,k,m,n,o,q,r,s,t,u,v,w,x=l[0],y=a.Deferred();if(y.abort=function(a){s.abort(a)},c)for(k=0;p.length>k;k++)j=a(p[k]),f?j.prop("disabled",!1):j.removeAttr("disabled");if(m=a.extend(!0,{},a.ajaxSettings,b),m.context=m.context||m,o="jqFormIO"+(new Date).getTime(),m.iframeTarget?(q=a(m.iframeTarget),u=q.attr2("name"),u?o=u:q.attr2("name",o)):(q=a('<iframe name="'+o+'" src="'+m.iframeSrc+'" />'),q.css({position:"absolute",top:"-1000px",left:"-1000px"})),r=q[0],s={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var c="timeout"===b?"timeout":"aborted";d("aborting upload... "+c),this.aborted=1;try{r.contentWindow.document.execCommand&&r.contentWindow.document.execCommand("Stop")}catch(e){}q.attr("src",m.iframeSrc),s.error=c,m.error&&m.error.call(m.context,s,c,b),n&&a.event.trigger("ajaxError",[s,m,c]),m.complete&&m.complete.call(m.context,s,c)}},n=m.global,n&&0===a.active++&&a.event.trigger("ajaxStart"),n&&a.event.trigger("ajaxSend",[s,m]),m.beforeSend&&m.beforeSend.call(m.context,s,m)===!1)return m.global&&a.active--,y.reject(),y;if(s.aborted)return y.reject(),y;t=x.clk,t&&(u=t.name,u&&!t.disabled&&(m.extraData=m.extraData||{},m.extraData[u]=t.value,"image"==t.type&&(m.extraData[u+".x"]=x.clk_x,m.extraData[u+".y"]=x.clk_y)));var z=1,A=2,B=a("meta[name=csrf-token]").attr("content"),C=a("meta[name=csrf-param]").attr("content");C&&B&&(m.extraData=m.extraData||{},m.extraData[C]=B),m.forceSync?g():setTimeout(g,10);var D,E,F,G=50,H=a.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},I=a.parseJSON||function(a){return window.eval("("+a+")")},J=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f="xml"===c||!c&&e.indexOf("xml")>=0,g=f?b.responseXML:b.responseText;return f&&"parsererror"===g.documentElement.nodeName&&a.error&&a.error("parsererror"),d&&d.dataFilter&&(g=d.dataFilter(g,c)),"string"==typeof g&&("json"===c||!c&&e.indexOf("json")>=0?g=I(g):("script"===c||!c&&e.indexOf("javascript")>=0)&&a.globalEval(g)),g};return y}if(!this.length)return d("ajaxSubmit: skipping submit process - no element selected"),this;var i,j,k,l=this;"function"==typeof b?b={success:b}:void 0===b&&(b={}),i=b.type||this.attr2("method"),j=b.url||this.attr2("action"),k="string"==typeof j?a.trim(j):"",k=k||window.location.href||"",k&&(k=(k.match(/^([^#]+)/)||[])[1]),b=a.extend(!0,{url:k,success:a.ajaxSettings.success,type:i||a.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},b);var m={};if(this.trigger("form-pre-serialize",[this,b,m]),m.veto)return d("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(b.beforeSerialize&&b.beforeSerialize(this,b)===!1)return d("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var n=b.traditional;void 0===n&&(n=a.ajaxSettings.traditional);var o,p=[],q=this.formToArray(b.semantic,p);if(b.data&&(b.extraData=b.data,o=a.param(b.data,n)),b.beforeSubmit&&b.beforeSubmit(q,this,b)===!1)return d("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[q,this,b,m]),m.veto)return d("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var r=a.param(q,n);o&&(r=r?r+"&"+o:o),"GET"==b.type.toUpperCase()?(b.url+=(b.url.indexOf("?")>=0?"&":"?")+r,b.data=null):b.data=r;var s=[];if(b.resetForm&&s.push(function(){l.resetForm()}),b.clearForm&&s.push(function(){l.clearForm(b.includeHidden)}),!b.dataType&&b.target){var t=b.success||function(){};s.push(function(c){var d=b.replaceTarget?"replaceWith":"html";a(b.target)[d](c).each(t,arguments)})}else b.success&&s.push(b.success);if(b.success=function(a,c,d){for(var e=b.context||this,f=0,g=s.length;g>f;f++)s[f].apply(e,[a,c,d||l,l])},b.error){var u=b.error;b.error=function(a,c,d){var e=b.context||this;u.apply(e,[a,c,d,l])}}if(b.complete){var v=b.complete;b.complete=function(a,c){var d=b.context||this;v.apply(d,[a,c,l])}}var w=a("input[type=file]:enabled",this).filter(function(){return""!==a(this).val()}),x=w.length>0,y="multipart/form-data",z=l.attr("enctype")==y||l.attr("encoding")==y,A=e.fileapi&&e.formdata;d("fileAPI :"+A);var B,C=(x||z)&&!A;b.iframe!==!1&&(b.iframe||C)?b.closeKeepAlive?a.get(b.closeKeepAlive,function(){B=h(q)}):B=h(q):B=(x||z)&&A?g(q):a.ajax(b),l.removeData("jqxhr").data("jqxhr",B);for(var D=0;p.length>D;D++)p[D]=null;return this.trigger("form-submit-notify",[this,b]),this},a.fn.ajaxForm=function(e){if(e=e||{},e.delegation=e.delegation&&a.isFunction(a.fn.on),!e.delegation&&0===this.length){var f={s:this.selector,c:this.context};return!a.isReady&&f.s?(d("DOM not ready, queuing ajaxForm"),a(function(){a(f.s,f.c).ajaxForm(e)}),this):(d("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this)}return e.delegation?(a(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,c).on("submit.form-plugin",this.selector,e,b).on("click.form-plugin",this.selector,e,c),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,b).bind("click.form-plugin",e,c)},a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},a.fn.formToArray=function(b,c){var d=[];if(0===this.length)return d;var f=this[0],g=b?f.getElementsByTagName("*"):f.elements;if(!g)return d;var h,i,j,k,l,m,n;for(h=0,m=g.length;m>h;h++)if(l=g[h],j=l.name,j&&!l.disabled)if(b&&f.clk&&"image"==l.type)f.clk==l&&(d.push({name:j,value:a(l).val(),type:l.type}),d.push({name:j+".x",value:f.clk_x},{name:j+".y",value:f.clk_y}));else if(k=a.fieldValue(l,!0),k&&k.constructor==Array)for(c&&c.push(l),i=0,n=k.length;n>i;i++)d.push({name:j,value:k[i]});else if(e.fileapi&&"file"==l.type){c&&c.push(l);var o=l.files;if(o.length)for(i=0;o.length>i;i++)d.push({name:j,value:o[i],type:l.type});else d.push({name:j,value:"",type:l.type})}else null!==k&&void 0!==k&&(c&&c.push(l),d.push({name:j,value:k,type:l.type,required:l.required}));if(!b&&f.clk){var p=a(f.clk),q=p[0];j=q.name,j&&!q.disabled&&"image"==q.type&&(d.push({name:j,value:p.val()}),d.push({name:j+".x",value:f.clk_x},{name:j+".y",value:f.clk_y}))}return d},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;g>f;f++)c.push({name:d,value:e[f]});else null!==e&&void 0!==e&&c.push({name:this.name,value:e})}}),a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;e>d;d++){var f=this[d],g=a.fieldValue(f,b);null===g||void 0===g||g.constructor==Array&&!g.length||(g.constructor==Array?a.merge(c,g):c.push(g))}return c},a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();if(void 0===c&&(c=!0),c&&(!d||b.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!b.checked||("submit"==e||"image"==e)&&b.form&&b.form.clk!=b||"select"==f&&-1==b.selectedIndex))return null;if("select"==f){var g=b.selectedIndex;if(0>g)return null;for(var h=[],i=b.options,j="select-one"==e,k=j?g+1:i.length,l=j?g:0;k>l;l++){var m=i[l];if(m.selected){var n=m.value;if(n||(n=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),j)return n;h.push(n)}}return h}return a(b).val()},a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})},a.fn.clearFields=a.fn.clearInputs=function(b){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();c.test(d)||"textarea"==e?this.value="":"checkbox"==d||"radio"==d?this.checked=!1:"select"==e?this.selectedIndex=-1:"file"==d?/MSIE/.test(navigator.userAgent)?a(this).replaceWith(a(this).clone(!0)):a(this).val(""):b&&(b===!0&&/hidden/.test(d)||"string"==typeof b&&a(this).is(b))&&(this.value="")})},a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return void 0===b&&(b=!0),this.each(function(){var c=this.type;if("checkbox"==c||"radio"==c)this.checked=b;else if("option"==this.tagName.toLowerCase()){var d=a(this).parent("select");b&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=b}})},a.fn.ajaxSubmit.debug=!1}("undefined"!=typeof jQuery?jQuery:window.Zepto),function(a){function b(){var b=this;a("input[type=checkbox]",a(".x-cat-tips")).each(function(){a(this).prop("checked")&&i.call(b)})}function c(){a(".x-loaders-row").on("click",".checkbox",function(){a(".x-loaders-row").toggleClass("opened")}),a("#c-loaders").on("change",function(){a("#c-loaders").prop("checked")?a(".x-loaders-row").addClass("opened"):a(".x-loaders-row").removeClass("opened")})}function d(){a(".x-seo-step2").on("click",".checkbox",function(){a(".x-user-box-c").prop("checked")?(a(".x-user-register").hide(),a(".x-user-login").show()):(a(".x-user-register").show(),a(".x-user-login").hide())}),a(".x-user-box-c").on("change",function(){a(".x-user-box-c").prop("checked")?(a(".x-user-register").hide(),a(".x-user-login").show()):(a(".x-user-register").show(),a(".x-user-login").hide())})}function e(){a(".change_label").on("click",function(){a("input[id='"+a(this).attr("for")+"']").attr("checked")?a(this).removeClass("cheked_label"):a(this).addClass("cheked_label")})}function f(){""!=a(".detail").val()&&a(".new_msg-def_text").css("display","none"),a(".new_msg-def_text").on("click select",function(){a(this).css("display","none"),a(".detail").focus()}),a(".detail").on("focusout",function(){""==a(this).val()&&a(".new_msg-def_text").css("display","block")}),a(".detail").on("focusin",function(b){a(".new_msg-def_text").css("display","none")})}function g(){a(".x-styled-select").msDropDown({mainCSS:"dd2",visibleRows:11,indent:6}),a(".x-styled-select-category").msDropDown({mainCSS:"dd2",visibleRows:11,indent:6}),a(".x-styled-select-country").each(function(){a(this).msDropDown({mainCSS:"dd2",indent:6}).data("dd").visible(!1)})}function h(){var b=this;a(this).on("click",".x-subcategory",function(){i.call(b)})}function i(){var b=this,c=a(".x-seo-title",this),d=a(".x-category-comment",this);a.vvSeo.titleTooLong?a.vvSeo.tipInput=d:a.vvSeo.tipInput=c;var e=a.vvSeo.tipInput.val(),f=a(".x-subcategory"),g=a(".x-subcategory:checked");f.each(function(b,c){var d=a(c).data("title");e=e.replace(new RegExp(d,"g"),""),e=e.replace(/,\s*/g,"")}),e=e.length&&g.length?e+", ":e;var h=[],i="";g.each(function(b,c){var d=a(this).data("title");h.push(d)}),i=h.join(", ");var j=e+i;if(j.length>50){a.vvSeo.titleTooLong=!0,a.vvSeo.tipInput=d;var k=a("#x-category-title").val();c.val(k),a(".new_msg-def_text").hide()}else a.vvSeo.titleTooLong=!1,a.vvSeo.tipInput=c,d.val(""),a(".new_msg-def_text").show();a.vvSeo.tipInput.val(e+i),s.call(b),u.call(b)}function j(){var b=this;a(this).on("click",".x-seo-title-tip",function(){var c=a("#x-category-id").val(),d=a(a.vvSeo.tipInput),e=a(document.createElement("input")).attr("name","order[0]["+c+"][subcategory][]").attr("type","hidden").val(a(this).data("id"));a(".x-seo-title").append(e);var f,g=d.val(),h=a(this).html(),i=g.split(", ");if(g.length){var j=!1;f=[];for(var k=0;k<i.length;k++)i[k]!=h?f.push(i[k]):j=!0;j||f.push(h),f=f.join(", ")}else f=h;if(f.length>50&&a.vvSeo.titleTooLong===!1&&(f=f.replace(", "+h,""),d.val(a("#x-category-title").val()),a(".x-category-comment").html(f),a.vvSeo.titleTooLong=!0,a.vvSeo.tipInput=".x-category-comment",d=a(a.vvSeo.tipInput)),a.vvSeo.titleTooLong){var l=d.val();d.val().length>0?d.val(l+", "+h):d.val(h),a(".new_msg-def_text").css("display","none")}else d.val(f);a(this).remove(),s.call(b),u.call(b)})}function k(){var b=this;a(".x-seo-form").vvForm(),a(".x-seo-form").ajaxForm({dataType:"json",beforeSubmit:function(c,d,e){a(b).trigger("orderBeforeSubmit"),a.blockUI({message:"Подождите..."}),a(".x-seo-form").vvResetErrors()},success:function(c){if(c.success)switch(a.vvSeo.activeButton.attr("name")){case"validate_step1":a.unblockUI(),l.call(b,2);break;case"add_photo":a.unblockUI(),a(".x-order-photo-upload-success").removeClass("hidden");break;case"add_order":window.location.href=c.details.url}else switch(a.unblockUI(),a.vvSeo.activeButton.attr("name")){case"add_order":a(".x-seo-form").vvPopulateErrors({errorBox:".x-form-error-box-step2",errors:c.errors});break;default:a(".x-seo-form").vvPopulateErrors({errors:c.errors})}},error:function(){}})}function l(b){1==b?(a(".x-seo-step2").hide(),a(".x-seo-step1").show(),a(".x-seo-step1-slides").show(),a.scrollTo(".x-scrollTo",500,{easing:"easeInOutExpo",offset:-30}),y("step1")):2==b&&(a(".x-seo-step1").hide(),a(".x-seo-step1-slides").hide(),a(".x-seo-step2").show(),m.call(this),a.scrollTo(".x-scrollTo",500,{easing:"easeInOutExpo",offset:-30}),y("step2"))}function m(){var b=this;n.call(this),w.call(this),a(".x-location-box").vvSeoCountry(),a(".x-order-goto-step1").on("click",function(a){a.preventDefault(),l.call(b,1)}),a(".x-seo-show-street").on("click",function(){a(this).toggleClass("opened")}),a(".x-seo-sugg-email").on("keyup",function(){x.call(b,this)}),a(".x-user-phone").mask("+7 (999) 999-99-99")}function n(){a(".x-seo-location-additional").on("click",function(){var b=a(".x-la-pic",this),c=a(".x-la-name",this),d=a(this).next(".x-seo-location-additional-block"),e=a(this).parent(".x-seo-location-main");b.toggleClass("s_on s_off"),e.toggleClass("pb20"),b.hasClass("s_on")?(c.html(b.data("on")),d.hide()):(c.html(b.data("off")),d.show())})}function o(){a(".x-seo-step1 .x-open-close");a(document).on("click",".x-open-close",function(){p.call(this),a(this).parent(".x-open-close-block").toggleClass("opened")})}function p(){var b=this;a(".x-open-close").each(function(){b!==this&&a(this).parent(".x-open-close-block").removeClass("opened")})}function q(){if(!(a(".x-order-dates",this).length<=0)){var b=this,c=a(".x-order-date-from",this).datepicker({showAnim:!1,dateFormat:"dd.mm.yy",minDate:new Date,changeMonth:!0,altField:".x-order-date-from-raw",altFormat:"yy-m-d",onSelect:function(e){if(a(".x-order-date-to-open:checked").trigger("click"),!a(".x-order-date-to-open",b).is(":checked")){d.vvEnable();var f=a.datepicker.parseDate("dd.mm.yy",e);f.setDate(f.getDate()+30),d.datepicker("option","minDate",c.datepicker("getDate")),d.datepicker("setDate",f),d.datepicker("refresh")}}}),d=a(".x-order-date-to",this).datepicker({showAnim:!1,dateFormat:"dd.mm.yy",minDate:a(".x-order-date-from",b).datepicker("getDate"),changeMonth:!0,altField:".x-order-date-to-raw",altFormat:"yy-m-d"});a(".x-order-date-to-open",this).click(function(){if(a(this).is(":checked"))d.datepicker("setDate",null),d.vvDisable();else{d.vvEnable();var c=a(".x-order-date-from",b).val();if(c){var e=a.datepicker.parseDate("dd.mm.yy",c);e.setDate(e.getDate()+30),d.datepicker("setDate",e),d.datepicker("refresh")}}})}}function r(){var b=this;a(".x-order-dim",this).keyup(function(){var c=1,d=0;a(".x-order-dim",b).each(function(){var b=parseFloat(a(this).val().replace(",","."));isNaN(b)||(d++,c*=b)}),3==d?(c=roundNumber(c,2),a(".x-order-volume",b).val(c)):a(".x-order-volume",b).val(null)})}function s(){var b=a(".x-seo-title",this);b.length>0&&a(".x-order-title-lenght-counter").html(a(".x-seo-title",this).val().length)}function t(){var b=this;a(".x-seo-title",this).keyup(function(){s.call(b)})}function u(){var b=a(".x-category-comment",this);b.length>0&&a(".x-order-comment-lenght-counter").html(a(".x-category-comment",this).val().length)}function v(){var b=this;a(".x-category-comment",this).keyup(function(){u.call(b)})}function w(){a(".x-user-register").on("click","#email-sugg-yes",function(){var b=a(this).data("full");a(".x-seo-sugg-email").val(b),a(".x-seo-email-sugg1").show(),a(".x-seo-email-sugg2").hide()}),a(".x-user-register").on("click","#email-sugg-no",function(){a(".x-seo-email-sugg1").show(),a(".x-seo-email-sugg2").hide()})}function x(b){a.ajax({url:geo_url("user/get_email_suggestions_seo"),
type:"POST",data:{email:a(b).val()},traditional:!0,context:this,dataType:"json",success:function(b){b&&(b&&0!=b.success?1==b.success&&(a(".x-seo-email-sugg1").hide(),a(".x-seo-email-sugg2").show(),a(".x-seo-email-sugg2-html").html(b.html)):(a(".x-seo-email-sugg1").show(),a(".x-seo-email-sugg2").hide()))}})}function y(a){document.location.hash=a}a.vvSeo={activeButton:null,titleTooLong:!1,tipInput:".x-seo-title",transport:null},a.fn.extend({vvSeo:function(i){return this.each(function(){var i=a(this).data("state");a.vvSeo.tipInput=".x-seo-title",a.vvSeo.titleTooLong=!1,i||(a(this).data("state","init"),j.call(this),h.call(this),o.call(this)),k.call(this),q.call(this),r.call(this),t.call(this),v.call(this),setTimeout(function(){g.call(this)},600),f.call(this),e.call(this),c.call(this),d.call(this),a(".x-seo-form").on("click",".x-order-btn",function(){a.vvSeo.activeButton=a(this)}),b.call(this),a(".x-order-item-passengers",this).vvSeoPassengers(),a(".x-seo-moving").vvSeoMoving(),a(".x-seo-transport").vvSeoTransport()})}})}(jQuery),function(a){function b(){a(".x-country .x-country-a",this).on("click",function(){var b=a(this).parent(".x-country"),c=a(".x-country-list",b),d=a(".x-ac-city",b);a(this).hide(),c.data("dd").visible(!0),""==b.data("stad")&&(0==b.data("index")?d.addClass("lc10"):1==b.data("index")&&d.addClass("lc20")),"2"==b.data("stad")&&(0==b.data("index")?d.addClass("lc101"):1==b.data("index")&&d.addClass("lc202"))})}function c(b){var c=b.parent(),d=c.parent().parent().find(".x-country-a"),e=b.data("dd");c.addClass("hidden");try{e&&e.visible(!1)}catch(f){}d.show(),a("span",d).text(a("option:selected",b).text())}a.vvSeoCountry={},a.fn.extend({vvSeoCountry:function(d){return this.each(function(){var d=this;b.call(d),a(".x-select-country",this).change(function(){c.call(d,a(this))})})}})}(jQuery),function(a){function b(b){var d=this,e=null;a.each(b,function(a,b){e=c.call(d,a,b)}),null!=e&&a.scrollTo(e,1200,{easing:"easeInOutExpo",offset:-40})}function c(b,c){var e=a('input[name="'+b+'"]'),f=null;return c&&(e.addClass("error"),e.attr("title",c),f=d.call(this,b),f&&(f.removeClass("hidden"),a(".x-form-error-box-ul",f).append("<li>"+c+"</li>"))),f}function d(){return a(g(this).errorBox)}function e(b){a(b).removeClass("error"),a(b).attr("title","")}function f(){var b=d.call(this);a(".x-form-error-box-ul",b).html(null),b.addClass("hidden"),a(':input[type!="radio"][type!="hidden"]').attr("title","").removeClass("error")}function g(b){return a.data(b,"vvForm")}a.vvForm={defaults:{errorBoxIndex:0,errorBox:".x-form-error-box",errors:[]}},a.fn.extend({vvForm:function(b){return this.each(function(){b=a.extend({},a.vvForm.defaults,b),a.data(this,"vvForm",b);var c=this;a(this).on("keyup",':input[type!="radio"][type!="hidden"]',function(){e.call(c,this)})})},vvPopulateErrors:function(c){return this.each(function(){c=a.extend({},a.vvForm.defaults,c),a.data(this,"vvForm",c),f.call(this),b.call(this,c.errors)})},vvResetErrors:function(){return this.each(function(){f.call(this)})}})}(jQuery),function(a){function b(){if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var a=window.getSelection();a.removeAllRanges()}}function c(){var b=parseInt(a(".x-counter-value",this).val()-0);e.call(this,++b)}function d(){var b=parseInt(a(".x-counter-value",this).val()-0);e.call(this,--b)}function e(b){0>b&&(b=0),b>0?a(".x-counter-dec",this).removeClass("x-hide"):a(".x-counter-dec",this).addClass("x-hide"),a(".x-counter-value",this).val(b)}a.vvSeoCounter={defaults:{}},a.fn.extend({vvSeoCounter:function(f){return this.each(function(){f=a.extend({},a.vvSeoCounter.defaults,f),a.data(this,"vvSeoCounter",f);var g=this;a(".x-counter-arrow",this).mousedown(function(a){return a.preventDefault(),b.call(this),!1}),a(".x-counter-arrow",this).on("dblclick",function(a){return a.preventDefault(),b.call(this),!1}),a(".x-counter-inc",this).click(function(a){return a.preventDefault(),c.call(g),!1}),a(".x-counter-dec",this).click(function(a){return a.preventDefault(),d.call(g),!1}),a(".x-counter-value",this).change(function(){var b=parseInt(0+a(".x-counter-value",g).val());e.call(g,b)})})}})}(jQuery),function(a){function b(){var b=this;a(".x-seo-moving-cat").each(function(){this!==b&&(a(".x-seo-moving-cat-head",this).removeClass("pu2"),a(this).next(".x-p-vip").removeClass("x-hide").addClass("x-hide"))}),a(".x-seo-moving-cat-head",this).toggleClass("pu2"),a(this).next(".x-p-vip").toggleClass("x-hide")}function c(){var b=this;a(".x-seo").bind("orderBeforeSubmit",function(){var c=d.call(b);a("#x-moving-details").val(c)})}function d(){var b="";return a(".x-counter-box").each(function(){var c=parseInt(a(".x-counter-value",this).val());if(c>0){var d=a(".x-counter-title",this).html();d=d.replace(/^\s+|\s+$|<br>|<span.*?>|<\/span>/g,"").replace(/\s{2,}/g," "),b+=d+": "+c+"; "}}),b}a.vvSeoMoving={},a.fn.extend({vvSeoMoving:function(b){return this.each(function(){c.call(this),a(".x-counter-box").vvSeoCounter(),a(".x-seo-moving-cat").vvSeoMovingCat()})},vvSeoMovingCat:function(){return this.each(function(){a(this).on("click",function(){b.call(this)})})}})}(jQuery),function(a){function b(){var b=a(".x-order-passengers-type-selector:checked").val();switch(b){case"2":a(".x-order-passengers-period").addClass("hidden");break;case"1":default:a(".x-order-passengers-period").removeClass("hidden")}}function c(){var b=a(".x-order-passengers-type-selector:checked").val();switch(b){case"2":a(".x-order-passengers-period").addClass("hidden");break;case"1":a(".x-order-passengers-period").removeClass("hidden");break;default:a(".x-order-passengers-type-selector:first").click(),a(".x-order-passengers-period:last").removeClass("hidden")}}a.vvSeoPassengers={},a.fn.extend({vvSeoPassengers:function(d){return this.each(function(){c.call(),a(".x-required-field").hide(),a(this).on("click",".radio",function(){b.call(this)}),a(".x-order-passengers-type-selector").on("change",function(){b.call(this)})})}})}(jQuery),function(a){function b(){a(".x-seo-form").vvResetErrors();var b=a(this).val(),c=a(".x-seo-common");a.ajax({type:"POST",dataType:"JSON",data:{action:"load_category",cat_id:b},beforeSend:function(){c.block({message:"Подождите..."})},success:function(b){b.success&&(a(".x-required-field").show(),a("#x-category-id").val(b.category_id),a("#x-category-name").val(b.category_name),a("#x-category-title").val(b.category_title),c.html(b.html),Custom.init(),a(".x-seo").vvSeo()),c.unblock()}})}a.vvSeoCommon={},a.fn.extend({vvSeoCommon:function(c){a(".x-seo-common-category").on("change",function(){b.call(this)})}})}(jQuery),function(a){function b(){var b=a("#x-subcategory-title").length?a("#x-subcategory-title").val():"",c=a(".x-seo-auto_brand").val(),d=a(".x-seo-auto_model").val(),e=a(".x-seo-auto_year").val(),f=a("#quantity").length?a("#quantity").val():"1";a(".x-seo-title").val(b+" "+c+" "+d+(e.length?" / "+e+" г":"")+(f.length?" / "+f+" шт":""))}function c(){setTimeout(function(){a(".x-styled-select").msDropDown({mainCSS:"dd2",visibleRows:11,indent:6})},600)}a.vvSeoTransport={defaults:{},activeButton:null},a.fn.extend({vvSeoTransport:function(d){return this.each(function(){d=a.extend({},a.vvSeoTransport.defaults,d),a.data(this,"vvSeoTransport",d),c.call(this);var e=this;a(".x-tac").vvAutocompleteTransport(),a(".x-seo-auto_brand").val().length&&b(),a("#quantity, .x-seo-auto_brand, .x-seo-auto_model, .x-seo-auto_year",e).on("keyup change",function(){b()})})}})}(jQuery),function($){function setAutocomplete(a){var b=this;a.each(function(){var a=$(this),c=a.data("ac-list-format"),d=a.data("ac-select-format"),e=getEntityByInput.call(b,a),f=getSuggestLinkByEntity.call(b,e);a.autocomplete({source:function(d,g){var h=getRelatedDataByInput.call(b,a),i=$.extend({q:d.term},h);$.ajax({url:f,data:i,type:"post",dataType:"json",success:function(a){g(formatListData.call(b,a,e,c))}})},select:function(c,f){selectItem.call(b,a,c,f,e,d)},open:function(){openList.call(b,$(this))},close:function(){closeList.call(b,$(this))},minLength:2})})}function getRelatedDataByInput(a){var b=this,c=a.data("ac-related"),d=a.data("ac-related-data")||{},e="";return c&&($.each(c.toString().split(","),function(a,b){e+="[data-ac-related-id="+b+"],"}),$(e.replace(/,$/,""),b).each(function(){var a=$(this),b=a.data("ac-related-name")||a.attr("name");d[b]=parseInt(a.data("ac-item-id"))||a.val()}),a.data("ac-related-data",d)),d}function formatListData(data,acEntity,acListFormat){try{var formatFunc=eval("formatList"+acEntity.ucFirst()+"Item");$.map(data,function(a){return formatFunc(a,acListFormat)})}catch(e){}return data}function formatListBrandItem(a,b){return a.label=a.title,a.value=a.title,a}function formatListModelItem(a,b){a.label=a.title,a.value=a.title}function selectItem(a,b,c,d,e){setResultData.call(this,a,c.item.label,c.item.id)}function setResultData(a,b,c){var d=a.parent();a.data("ac-item-id",c),d.find($(settings(this).resultRawInput)).val(b||a.val()),d.find($(settings(this).resultIdInput)).val(c||""),c&&a.trigger("ac.select.id"),a.trigger("ac.select")}function getEntityByInput(a){return a.is(settings(this).acBrandInput)?"brand":a.is(settings(this).acModelInput)?"model":""}function openList(a){}function closeList(a){}function getSuggestLinkByEntity(a){return settings(this)["suggest"+a.ucFirst()+"Link"]}function settings(a){return $.data(a,"vvAutocompleteTransport")}$.vvAutocompleteTransport={defaults:{acInput:".x-tac-input",acRelatedSelector:".x-tac-related",acBrandInput:"input.x-tac-brand",acModelInput:"input.x-tac-model",resultRawInput:"input.x-tac-result-raw",resultIdInput:"input.x-tac-result-id",suggestBrandLink:"/complete/suggest_brand",suggestModelLink:"/complete/suggest_model",clearCacheOnChange:!0}},$.fn.extend({vvAutocompleteTransport:function(a){return this.each(function(){a=$.extend({},$.vvAutocompleteTransport.defaults,a),$.data(this,"vvAutocompleteTransport",a);var b=this;setAutocomplete.call(b,$(a.acInput,b)),$(a.acRelatedSelector,b).bind("change ac.select.id",function(){var b=$("[data-ac-related*="+$(this).data("ac-related-id")+"]");a.clearCacheOnChange&&b.data("ac-related-data",null).val("").trigger("change")}),$(a.acInput,b).change(function(){setResultData.call(b,$(this))})})}})}(jQuery),String.prototype.ucFirst=function(){var a=this;return a.length&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a},function(a){function b(b){var c=a(this).attr("href");"function"==typeof ga?ga("send","event","outbound","click",c,{hitCallback:function(){document.location=c}}):document.location=c}a.vvTrackOutboundLink={},a.fn.extend({vvTrackOutboundLink:function(c){return this.each(function(){c=a.extend({},a.vvTrackOutboundLink.defaults,c),a.data(this,"vvTrackOutboundLink",c);var d=this;a("body").on("click",".x-track-outbound-link",function(){return b.call(this,d),!1})})}})}(jQuery),$("body").vvTrackOutboundLink(),$(document).ready(function(){$(".x-promo").vvPromo(),setTimeout(function(){$(".x-ac").vvAutocomplete()},600),$(".x-seo").vvSeo(),$(".x-seo").vvSeoCommon(),$("#owl-demo").owlCarousel({autoPlay:9e3,stopOnHover:!0,paginationSpeed:1e3,goToFirstSpeed:2e3,singleItem:!0,items:1,autoHeight:!0}),$(function(){var a=$(".x-checked-box"),b=$("#input-check-all-id");a.change(function(a){b.prop("checked",!1)}),b.change(function(b){this.checked?a.prop("checked",!0):a.prop("checked",!1)})}),$(".x-geo-slider").length&&$(".x-geo-slider").vvGeoSlider({showThumb:4}),$(".eco_statistic, .x-stats").vvStats(),$(".x-load-next-success-order").click(function(){var a={next_index:parseInt($(".x-next-success-order").val())+1,category_id:$("#x-category-id").val()};$.ajax({type:"GET",traditional:!0,url:"/home/next_success_order",data:a,context:this,dataType:"json",success:function(a){if(a.success){var b=$(a.view);$("#x-next-success-order-cnt").html(b),$(".x-next-success-order").val(a.current_index)}}})}),$(window).resize(function(a){$(".x-video").width($(".x-video-cnt").width()),$(".x-video").height($(".x-video-cnt").height())}).resize(),$(".x-seo-info").on("click",".x-seo-tabs",function(){if(!$(this).hasClass("activ")){var a=$(this).data("id");$(".x-seo-tabs.activ").addClass("no_activ").removeClass("activ"),$(this).addClass("activ").removeClass("no_activ"),$(".x-seo-tab-s").hide(),$(".x-seo-tab-"+a).show()}})}),function(a){a.fn.jOdometer=function(b){function c(a){void 0!=a?(clearInterval(r),h=a,d(h)):(d(h),h+=b.increment),0!=b.counterEnd&&h-1>=b.counterEnd&&(clearInterval(r),d(b.counterEnd))}function d(b){if(k=String(b).split("."),j.length>0)for(o=0;o<j.length;o++)oldDigit=j[o],k[1]&&(j[o]=k[1].charAt(o)),""==j[o]&&(j[o]="0"),e(a(".jodometer_decimal_"+o,f),parseInt(j[o]),parseInt(oldDigit));for(p=k[0],n=p.length-1,o=0;o<i.length;o++)oldDigit=i[o],i[o]=p.charAt(n),""==i[o]&&(i[o]="0"),e(a(".jodometer_integer_"+o,f),parseInt(i[o]),parseInt(oldDigit)),n--}function e(a,c,d){c!=d&&(a.stop(),0==c?a.animate({top:10*b.heightNumber*-1+g},0,b.easing).animate({top:g},1,"linear"):d>c?a.animate({top:10*b.heightNumber*-1+g},b.speed*((10-d)/10),"linear").animate({top:g},1,"linear").animate({top:c*b.heightNumber*-1+g},b.speed*d/10,b.easing):a.animate({top:c*b.heightNumber*-1+g},b.speed,b.easing))}if(this.length>1)return this.each(function(){a(this).jOdometer(b)}),this;b=a.extend({},a.fn.jOdometer.defaults,b),this.goToNumber=function(a){c(a)};var f=a(this),g=-b.heightNumber,h=parseFloat(b.counterStart),i=[],j=[],k=String(b.counterStart).split("."),l=0,m=0;if(k[1]){for(var n=0,o=k[1].length-1;o>-1;o--)j[o]=k[1].charAt(o),a(this).append('<img style="position:absolute; right:'+(n*b.widthNumber+b.offsetRight+n*b.spaceNumbers)+"px; top:"+(parseInt(j[o])*b.heightNumber*-1+g)+'px;" class="jodometer_decimal_'+o+'" src="'+b.numbersImage+'" alt="Decimal '+(o+1)+'" />'),n++;a(this).append('<div style="position:absolute; width:'+b.widthDot+"px; height:"+b.heightNumber+"px; background:url("+b.numbersImage+") no-repeat center "+(12*b.heightNumber*-1+g)+"px; right:"+(k[1].length*b.widthNumber+b.offsetRight+k[1].length*b.spaceNumbers)+'px;" class="jodometer_dot"></div>'),l=k[1].length,m=b.widthDot}for(var p=k[0],n=p.length-1,q=0,o=0;o<p.length;o++)i[o]=p.charAt(n),b.formatNumber&&o>0&&o%3==0&&(a(this).append('<div style="position:absolute; width:'+b.widthDot+"px; height:"+b.heightNumber+"px; background:url("+b.numbersImage+") no-repeat center bottom; right:"+(o*b.widthNumber+l*b.widthNumber+m+q+b.offsetRight+l*b.spaceNumbers+o*b.spaceNumbers+b.spaceNumbers)+'px;" class="jodometer_dot"></div>'),q+=b.widthDot+b.spaceNumbers),a(this).append('<img style="position:absolute; right:'+(o*b.widthNumber+l*b.widthNumber+m+q+b.offsetRight+l*b.spaceNumbers+o*b.spaceNumbers+b.spaceNumbers)+"px; top:"+(parseInt(i[o])*b.heightNumber*-1+g)+'px;" class="jodometer_integer_'+o+'" src="'+b.numbersImage+'" alt="Integer '+(o+1)+'" />'),n--;if(parseFloat(b.counterStart)!=b.counterEnd||"false"==b.counterEnd.toString()&&0==parseFloat(b.counterStart))var r=setInterval(function(){c()},b.delayTime);return this},a.fn.jOdometer.defaults={counterStart:"0000.00",counterEnd:!1,delayTime:1e3,increment:.01,speed:500,easing:"swing",numbersImage:"/images/jodometer-numbers.png",formatNumber:!1,heightNumber:31,widthNumber:14,offsetRight:0,spaceNumbers:0,widthDot:10}}(jQuery),function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;e.length>d;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)}})}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(c,d,e){var f,g,h,i,j={},k=c.split(".")[0];c=c.split(".")[1],f=k+"-"+c,e||(e=d,d=a.Widget),a.expr[":"][f.toLowerCase()]=function(b){return!!a.data(b,f)},a[k]=a[k]||{},g=a[k][c],h=a[k][c]=function(a,c){return this._createWidget?(arguments.length&&this._createWidget(a,c),b):new h(a,c)},a.extend(h,g,{version:e.version,_proto:a.extend({},e),_childConstructors:[]}),i=new d,i.options=a.widget.extend({},i.options),a.each(e,function(c,e){return a.isFunction(e)?(j[c]=function(){var a=function(){return d.prototype[c].apply(this,arguments)},b=function(a){return d.prototype[c].apply(this,a)};return function(){var c,d=this._super,f=this._superApply;return this._super=a,this._superApply=b,c=e.apply(this,arguments),this._super=d,this._superApply=f,c}}(),b):(j[c]=e,b)}),h.prototype=a.widget.extend(i,{widgetEventPrefix:g?i.widgetEventPrefix:c},j,{constructor:h,namespace:k,widgetName:c,widgetFullName:f}),g?(a.each(g._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,h,c._proto)}),delete g._childConstructors):d._childConstructors.push(h),a.widget.bridge(c,h)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):b):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;e.length-1>g;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(c,d,e){var f,g=this;"boolean"!=typeof c&&(e=d,d=c,c=!1),e?(d=f=a(d),this.bindings=this.bindings.add(d)):(e=d,d=this.element,f=this.widget()),a.each(e,function(e,h){function i(){return c||g.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof h?g[h]:h).apply(g,arguments):b}"string"!=typeof h&&(i.guid=h.guid=h.guid||i.guid||a.guid++);var j=e.match(/^(\w+)\s*(.*)$/),k=j[1]+g.eventNamespace,l=j[2];l?f.delegate(l,k,i):d.bind(k,i)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a,b){function c(a,b,c){return[parseFloat(a[0])*(n.test(a[0])?b/100:1),parseFloat(a[1])*(n.test(a[1])?c/100:1)]}function d(b,c){return parseInt(a.css(b,c),10)||0}function e(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,g=Math.max,h=Math.abs,i=Math.round,j=/left|center|right/,k=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,n=/%$/,o=a.fn.position;a.position={scrollbarWidth:function(){if(f!==b)return f;var c,d,e=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=e.children()[0];return a("body").append(e),c=g.offsetWidth,e.css("overflow","scroll"),d=g.offsetWidth,c===d&&(d=e[0].clientWidth),e.remove(),f=c-d},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return o.apply(this,arguments);b=a.extend({},b);var f,n,p,q,r,s,t=a(b.of),u=a.position.getWithinInfo(b.within),v=a.position.getScrollInfo(u),w=(b.collision||"flip").split(" "),x={};return s=e(t),t[0].preventDefault&&(b.at="left top"),n=s.width,p=s.height,q=s.offset,r=a.extend({},q),a.each(["my","at"],function(){var a,c,d=(b[this]||"").split(" ");1===d.length&&(d=j.test(d[0])?d.concat(["center"]):k.test(d[0])?["center"].concat(d):["center","center"]),d[0]=j.test(d[0])?d[0]:"center",d[1]=k.test(d[1])?d[1]:"center",a=l.exec(d[0]),c=l.exec(d[1]),x[this]=[a?a[0]:0,c?c[0]:0],b[this]=[m.exec(d[0])[0],m.exec(d[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===b.at[0]?r.left+=n:"center"===b.at[0]&&(r.left+=n/2),"bottom"===b.at[1]?r.top+=p:"center"===b.at[1]&&(r.top+=p/2),f=c(x.at,n,p),r.left+=f[0],r.top+=f[1],this.each(function(){var e,j,k=a(this),l=k.outerWidth(),m=k.outerHeight(),o=d(this,"marginLeft"),s=d(this,"marginTop"),y=l+o+d(this,"marginRight")+v.width,z=m+s+d(this,"marginBottom")+v.height,A=a.extend({},r),B=c(x.my,k.outerWidth(),k.outerHeight());"right"===b.my[0]?A.left-=l:"center"===b.my[0]&&(A.left-=l/2),"bottom"===b.my[1]?A.top-=m:"center"===b.my[1]&&(A.top-=m/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=i(A.left),A.top=i(A.top)),e={marginLeft:o,marginTop:s},a.each(["left","top"],function(c,d){a.ui.position[w[c]]&&a.ui.position[w[c]][d](A,{targetWidth:n,targetHeight:p,elemWidth:l,elemHeight:m,collisionPosition:e,collisionWidth:y,collisionHeight:z,offset:[f[0]+B[0],f[1]+B[1]],my:b.my,at:b.at,within:u,elem:k})}),b.using&&(j=function(a){var c=q.left-A.left,d=c+n-l,e=q.top-A.top,f=e+p-m,i={target:{element:t,left:q.left,top:q.top,width:n,height:p},element:{element:k,left:A.left,top:A.top,width:l,height:m},horizontal:0>d?"left":c>0?"right":"center",vertical:0>f?"top":e>0?"bottom":"middle"};l>n&&n>h(c+d)&&(i.horizontal="center"),m>p&&p>h(e+f)&&(i.vertical="middle"),i.important=g(h(c),h(d))>g(h(e),h(f))?"horizontal":"vertical",b.using.call(this,a,i)}),k.offset(a.extend(A,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-f-e;b.collisionWidth>f?i>0&&0>=j?(c=a.left+i+b.collisionWidth-f-e,a.left+=i-c):a.left=j>0&&0>=i?e:i>j?e+f-b.collisionWidth:e:i>0?a.left+=i:j>0?a.left-=j:a.left=g(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-f-e;b.collisionHeight>f?i>0&&0>=j?(c=a.top+i+b.collisionHeight-f-e,a.top+=i-c):a.top=j>0&&0>=i?e:i>j?e+f-b.collisionHeight:e:i>0?a.top+=i:j>0?a.top-=j:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-g-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-g-f,(0>c||h(k)>c)&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||l>h(d))&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,g=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-g-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-g-f,a.top+n+o+p>k&&(0>d||h(k)>d)&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||l>h(c))&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML="",c.removeChild(b)}()}(jQuery),function(a){var b=0;a.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",
at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var b,c,d,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e,g="input"===e;this.isMultiLine=f?!0:g?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[f||g?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","none"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return b=!0,d=!0,void(c=!0);b=!1,d=!1,c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=!0,this._move("previousPage",e);break;case f.PAGE_DOWN:b=!0,this._move("nextPage",e);break;case f.UP:b=!0,this._keyEvent("previous",e);break;case f.DOWN:b=!0,this._keyEvent("next",e);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(b=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(d){if(b)return b=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&d.preventDefault());if(!c){var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}}},input:function(a){return d?(d=!1,void a.preventDefault()):void this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),void this._change(a))}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(b){b.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target===b.element[0]||d.target===c||a.contains(c,d.target)||b.close()})})},menufocus:function(b,c){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});var d=c.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:d})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(d.value):this.liveRegion.text(d.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d,this.selectedItem=c})),!1!==this._trigger("select",a,{item:c})&&this._value(c.value),this.term=this._value(),this.close(a),this.selectedItem=c}}),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=this,c=++b;return function(d){c===b&&a.__response(d),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty();this._renderMenu(c,b),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").append(a("<a>").text(c.label)).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this._value(this.term),void this.menu.blur()):void this.menu[a](b):void this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments),this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(b))}})}(jQuery),function(a){a.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(b){var c=a(b.target).closest(".ui-menu-item");!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(b),c.has(".ui-menu").length?this.expand(b):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){var c=a(b.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(b,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,c)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){function c(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var d,e,f,g,h,i=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:i=!1,e=this.previousFilter||"",f=String.fromCharCode(b.keyCode),g=!1,clearTimeout(this.filterTimer),f===e?g=!0:f=e+f,h=RegExp("^"+c(f),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return h.test(a(this).children("a").text())}),d=g&&-1!==d.index(this.active.next())?this.active.nextAll(".ui-menu-item"):d,d.length||(f=String.fromCharCode(b.keyCode),h=RegExp("^"+c(f),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return h.test(a(this).children("a").text())})),d.length?(this.focus(b,d),d.length>1?(this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}i&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b,c=this.options.icons.submenu,d=this.element.find(this.options.menus);d.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),d=b.prev("a"),e=a("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(e),b.attr("aria-labelledby",d.attr("id"))}),b=d.add(this.element),b.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),b.children(":not(.ui-menu-item)").each(function(){var b=a(this);/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")}),b.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu),this._super(a,b)},focus:function(a,b){var c,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.height(),0>e?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[b]()),this.focus(c,d)},nextPage:function(b){var c,d,e;return this.active?void(this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=a(this),0>c.offset().top-d-e}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(b)},previousPage:function(b){var c,d,e;return this.active?void(this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d+e>0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item").first()))):void this.next(b)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)}})}(jQuery);